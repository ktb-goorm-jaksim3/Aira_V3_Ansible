---
- name: Apply Kubernetes Ingress resources
  hosts: localhost
  tasks:
    - name: Create Ingress for applications
      kubernetes.core.k8s:
        state: present
        src: "{{ manifest_dir }}/{{ item }}"
      loop:
        # argocd는 인그레스가 아닌 로드밸런서로 접속
        # - argocd-ingress.yml
        - grafana-ingress.yml