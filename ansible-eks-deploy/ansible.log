2025-03-09 16:53:23,343 p=52180 u=ubuntu n=ansible | PLAY [Deploy Kubernetes Resources to EKS] ***************************************************************************************************************
2025-03-09 16:53:23,374 p=52180 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************************************************************
2025-03-09 16:53:25,011 p=52180 u=ubuntu n=ansible | ok: [localhost]
2025-03-09 16:53:25,031 p=52180 u=ubuntu n=ansible | TASK [Apply Kubernetes Namespaces] **********************************************************************************************************************
2025-03-09 16:53:25,521 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:25,532 p=52180 u=ubuntu n=ansible | TASK [Apply Kubernetes Secrets] *************************************************************************************************************************
2025-03-09 16:53:25,936 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:25,942 p=52180 u=ubuntu n=ansible | TASK [Apply Kubernetes ConfigMap] ***********************************************************************************************************************
2025-03-09 16:53:26,242 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:26,249 p=52180 u=ubuntu n=ansible | TASK [Apply Kubernetes PVCs] ****************************************************************************************************************************
2025-03-09 16:53:26,572 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:26,579 p=52180 u=ubuntu n=ansible | TASK [Apply MySQL StatefulSet] **************************************************************************************************************************
2025-03-09 16:53:26,878 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:26,884 p=52180 u=ubuntu n=ansible | TASK [Apply MySQL Service] ******************************************************************************************************************************
2025-03-09 16:53:27,219 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:27,227 p=52180 u=ubuntu n=ansible | TASK [Apply Frontend Deployment] ************************************************************************************************************************
2025-03-09 16:53:27,529 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:27,537 p=52180 u=ubuntu n=ansible | TASK [Apply Backend Deployment] *************************************************************************************************************************
2025-03-09 16:53:27,821 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:27,829 p=52180 u=ubuntu n=ansible | TASK [Apply GPT Worker Deployment] **********************************************************************************************************************
2025-03-09 16:53:28,144 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:28,152 p=52180 u=ubuntu n=ansible | TASK [Apply Frontend Service] ***************************************************************************************************************************
2025-03-09 16:53:28,429 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:28,437 p=52180 u=ubuntu n=ansible | TASK [Apply Backend Service] ****************************************************************************************************************************
2025-03-09 16:53:28,756 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:28,762 p=52180 u=ubuntu n=ansible | TASK [Apply GPT Worker Service] *************************************************************************************************************************
2025-03-09 16:53:29,039 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:29,046 p=52180 u=ubuntu n=ansible | TASK [Apply Grafana StatefulSet] ************************************************************************************************************************
2025-03-09 16:53:29,334 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:29,345 p=52180 u=ubuntu n=ansible | TASK [Apply Prometheus Deployment] **********************************************************************************************************************
2025-03-09 16:53:29,689 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:29,707 p=52180 u=ubuntu n=ansible | TASK [Apply JMeter Deployment] **************************************************************************************************************************
2025-03-09 16:53:29,973 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:29,980 p=52180 u=ubuntu n=ansible | TASK [Apply Ingress Configuration] **********************************************************************************************************************
2025-03-09 16:53:30,240 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:30,247 p=52180 u=ubuntu n=ansible | TASK [Apply ArgoCD Ingress] *****************************************************************************************************************************
2025-03-09 16:53:30,507 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:30,514 p=52180 u=ubuntu n=ansible | TASK [Apply Grafana Ingress] ****************************************************************************************************************************
2025-03-09 16:53:30,782 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:30,789 p=52180 u=ubuntu n=ansible | TASK [Apply ArgoCD Deployment] **************************************************************************************************************************
2025-03-09 16:53:31,053 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:31,059 p=52180 u=ubuntu n=ansible | TASK [Apply ArgoCD Service] *****************************************************************************************************************************
2025-03-09 16:53:31,316 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:31,322 p=52180 u=ubuntu n=ansible | TASK [Apply Node Exporter DaemonSet] ********************************************************************************************************************
2025-03-09 16:53:31,638 p=52180 u=ubuntu n=ansible | skipping: [localhost]
2025-03-09 16:53:31,666 p=52180 u=ubuntu n=ansible | PLAY RECAP **********************************************************************************************************************************************
2025-03-09 16:53:31,667 p=52180 u=ubuntu n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=0    skipped=21   rescued=0    ignored=0   
2025-03-09 16:56:38,517 p=52881 u=ubuntu n=ansible | PLAY [Deploy Kubernetes Resources to EKS] ***************************************************************************************************************
2025-03-09 16:56:38,532 p=52881 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************************************************************
2025-03-09 16:56:39,984 p=52881 u=ubuntu n=ansible | ok: [localhost]
2025-03-09 16:56:40,033 p=52881 u=ubuntu n=ansible | TASK [eks_namespace : Create Kubernetes namespaces] *****************************************************************************************************
2025-03-09 16:56:41,210 p=52881 u=ubuntu n=ansible | failed: [localhost] (item=application) => {"ansible_loop_var": "item", "changed": false, "item": "application", "msg": "Failed to import the required Python library (kubernetes) on ip-10-0-16-183's Python /usr/bin/python3. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2025-03-09 16:56:41,814 p=52881 u=ubuntu n=ansible | failed: [localhost] (item=infrastructure) => {"ansible_loop_var": "item", "changed": false, "item": "infrastructure", "msg": "Failed to import the required Python library (kubernetes) on ip-10-0-16-183's Python /usr/bin/python3. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2025-03-09 16:56:42,387 p=52881 u=ubuntu n=ansible | failed: [localhost] (item=monitoring) => {"ansible_loop_var": "item", "changed": false, "item": "monitoring", "msg": "Failed to import the required Python library (kubernetes) on ip-10-0-16-183's Python /usr/bin/python3. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2025-03-09 16:56:43,029 p=52881 u=ubuntu n=ansible | failed: [localhost] (item=database) => {"ansible_loop_var": "item", "changed": false, "item": "database", "msg": "Failed to import the required Python library (kubernetes) on ip-10-0-16-183's Python /usr/bin/python3. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2025-03-09 16:56:43,048 p=52881 u=ubuntu n=ansible | PLAY RECAP **********************************************************************************************************************************************
2025-03-09 16:56:43,049 p=52881 u=ubuntu n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-09 16:59:16,609 p=53519 u=ubuntu n=ansible INFO| PLAY [Deploy Kubernetes Resources to EKS] ***************************************************************************************************************
2025-03-09 16:59:16,632 p=53519 u=ubuntu n=ansible INFO| TASK [Gathering Facts] **********************************************************************************************************************************
2025-03-09 16:59:18,545 p=53519 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-09 16:59:18,553 p=53519 u=ubuntu n=ansible INFO| TASK [eks_namespace : Create Kubernetes namespaces] *****************************************************************************************************
2025-03-09 16:59:23,139 p=53519 u=ubuntu n=ansible INFO| An exception occurred during task execution. To see the full traceback, use -vvv. The error was: urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com', port=443): Max retries exceeded with url: /version (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x78058436d4f0>: Failed to resolve '670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com' ([Errno -2] Name or service not known)"))
2025-03-09 16:59:23,141 p=53519 u=ubuntu n=ansible INFO| failed: [localhost] (item=application) => {"ansible_loop_var": "item", "changed": false, "item": "application", "module_stderr": "Traceback (most recent call last):\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connection.py\", line 198, in _new_conn\n    sock = connection.create_connection(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/util/connection.py\", line 60, in create_connection\n    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/socket.py\", line 963, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno -2] Name or service not known\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 488, in _make_request\n    raise new_e\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 464, in _make_request\n    self._validate_conn(conn)\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 1093, in _validate_conn\n    conn.connect()\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connection.py\", line 704, in connect\n    self.sock = sock = self._new_conn()\n                       ^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connection.py\", line 205, in _new_conn\n    raise NameResolutionError(self.host, self, e) from e\nurllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x78058436d4f0>: Failed to resolve '670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com' ([Errno -2] Name or service not known)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/ubuntu/.ansible/tmp/ansible-tmp-1741539558.5806997-53639-233240686762776/AnsiballZ_k8s.py\", line 107, in <module>\n    _ansiballz_main()\n  File \"/home/ubuntu/.ansible/tmp/ansible-tmp-1741539558.5806997-53639-233240686762776/AnsiballZ_k8s.py\", line 99, in _ansiballz_main\n    invoke_module(zipped_mod, temp_path, ANSIBALLZ_PARAMS)\n  File \"/home/ubuntu/.ansible/tmp/ansible-tmp-1741539558.5806997-53639-233240686762776/AnsiballZ_k8s.py\", line 47, in invoke_module\n    runpy.run_module(mod_name='ansible_collections.kubernetes.core.plugins.modules.k8s', init_globals=dict(_module_fqn='ansible_collections.kubernetes.core.plugins.modules.k8s', _modlib_path=modlib_path),\n  File \"<frozen runpy>\", line 226, in run_module\n  File \"<frozen runpy>\", line 98, in _run_module_code\n  File \"<frozen runpy>\", line 88, in _run_code\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_nehelp_p/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/modules/k8s.py\", line 509, in <module>\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_nehelp_p/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/modules/k8s.py\", line 503, in main\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_nehelp_p/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/runner.py\", line 88, in run_module\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_nehelp_p/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/client.py\", line 352, in get_api_client\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_nehelp_p/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/client.py\", line 246, in wrapper\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_nehelp_p/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/client.py\", line 259, in create_api_client\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/dynamic/client.py\", line 84, in __init__\n    self.__discoverer = discoverer(self, cache_file)\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_nehelp_p/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/client/discovery.py\", line 190, in __init__\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_nehelp_p/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/client/discovery.py\", line 45, in __init__\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_nehelp_p/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/client/discovery.py\", line 92, in __init_cache\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/dynamic/discovery.py\", line 145, in _load_server_info\n    'kubernetes': self.client.request('get', '/version', serializer=just_json)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/dynamic/client.py\", line 55, in inner\n    resp = func(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/dynamic/client.py\", line 273, in request\n    api_response = self.client.call_api(\n                   ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/api_client.py\", line 348, in call_api\n    return self.__call_api(resource_path, method,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/api_client.py\", line 180, in __call_api\n    response_data = self.request(\n                    ^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/api_client.py\", line 373, in request\n    return self.rest_client.GET(url,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/rest.py\", line 244, in GET\n    return self.request(\"GET\", url,\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/rest.py\", line 217, in request\n    r = self.pool_manager.request(method, url,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/_request_methods.py\", line 135, in request\n    return self.request_encode_url(\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/_request_methods.py\", line 182, in request_encode_url\n    return self.urlopen(method, url, **extra_kw)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/poolmanager.py\", line 443, in urlopen\n    response = conn.urlopen(method, u.request_uri, **kw)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 871, in urlopen\n    return self.urlopen(\n           ^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 871, in urlopen\n    return self.urlopen(\n           ^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 871, in urlopen\n    return self.urlopen(\n           ^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 841, in urlopen\n    retries = retries.increment(\n              ^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/util/retry.py\", line 519, in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com', port=443): Max retries exceeded with url: /version (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x78058436d4f0>: Failed to resolve '670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com' ([Errno -2] Name or service not known)\"))\n", "module_stdout": "", "msg": "MODULE FAILURE: No start of json char found\nSee stdout/stderr for the exact error", "rc": 1}
2025-03-09 16:59:26,515 p=53519 u=ubuntu n=ansible INFO| An exception occurred during task execution. To see the full traceback, use -vvv. The error was: urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com', port=443): Max retries exceeded with url: /version (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x76529faf11f0>: Failed to resolve '670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com' ([Errno -2] Name or service not known)"))
2025-03-09 16:59:26,516 p=53519 u=ubuntu n=ansible INFO| failed: [localhost] (item=infrastructure) => {"ansible_loop_var": "item", "changed": false, "item": "infrastructure", "module_stderr": "Traceback (most recent call last):\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connection.py\", line 198, in _new_conn\n    sock = connection.create_connection(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/util/connection.py\", line 60, in create_connection\n    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/socket.py\", line 963, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno -2] Name or service not known\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 488, in _make_request\n    raise new_e\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 464, in _make_request\n    self._validate_conn(conn)\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 1093, in _validate_conn\n    conn.connect()\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connection.py\", line 704, in connect\n    self.sock = sock = self._new_conn()\n                       ^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connection.py\", line 205, in _new_conn\n    raise NameResolutionError(self.host, self, e) from e\nurllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x76529faf11f0>: Failed to resolve '670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com' ([Errno -2] Name or service not known)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/ubuntu/.ansible/tmp/ansible-tmp-1741539563.144928-53639-212738482311155/AnsiballZ_k8s.py\", line 107, in <module>\n    _ansiballz_main()\n  File \"/home/ubuntu/.ansible/tmp/ansible-tmp-1741539563.144928-53639-212738482311155/AnsiballZ_k8s.py\", line 99, in _ansiballz_main\n    invoke_module(zipped_mod, temp_path, ANSIBALLZ_PARAMS)\n  File \"/home/ubuntu/.ansible/tmp/ansible-tmp-1741539563.144928-53639-212738482311155/AnsiballZ_k8s.py\", line 47, in invoke_module\n    runpy.run_module(mod_name='ansible_collections.kubernetes.core.plugins.modules.k8s', init_globals=dict(_module_fqn='ansible_collections.kubernetes.core.plugins.modules.k8s', _modlib_path=modlib_path),\n  File \"<frozen runpy>\", line 226, in run_module\n  File \"<frozen runpy>\", line 98, in _run_module_code\n  File \"<frozen runpy>\", line 88, in _run_code\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_4dsqnlk2/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/modules/k8s.py\", line 509, in <module>\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_4dsqnlk2/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/modules/k8s.py\", line 503, in main\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_4dsqnlk2/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/runner.py\", line 88, in run_module\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_4dsqnlk2/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/client.py\", line 352, in get_api_client\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_4dsqnlk2/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/client.py\", line 246, in wrapper\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_4dsqnlk2/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/client.py\", line 259, in create_api_client\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/dynamic/client.py\", line 84, in __init__\n    self.__discoverer = discoverer(self, cache_file)\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_4dsqnlk2/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/client/discovery.py\", line 190, in __init__\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_4dsqnlk2/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/client/discovery.py\", line 45, in __init__\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_4dsqnlk2/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/client/discovery.py\", line 92, in __init_cache\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/dynamic/discovery.py\", line 145, in _load_server_info\n    'kubernetes': self.client.request('get', '/version', serializer=just_json)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/dynamic/client.py\", line 55, in inner\n    resp = func(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/dynamic/client.py\", line 273, in request\n    api_response = self.client.call_api(\n                   ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/api_client.py\", line 348, in call_api\n    return self.__call_api(resource_path, method,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/api_client.py\", line 180, in __call_api\n    response_data = self.request(\n                    ^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/api_client.py\", line 373, in request\n    return self.rest_client.GET(url,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/rest.py\", line 244, in GET\n    return self.request(\"GET\", url,\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/rest.py\", line 217, in request\n    r = self.pool_manager.request(method, url,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/_request_methods.py\", line 135, in request\n    return self.request_encode_url(\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/_request_methods.py\", line 182, in request_encode_url\n    return self.urlopen(method, url, **extra_kw)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/poolmanager.py\", line 443, in urlopen\n    response = conn.urlopen(method, u.request_uri, **kw)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 871, in urlopen\n    return self.urlopen(\n           ^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 871, in urlopen\n    return self.urlopen(\n           ^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 871, in urlopen\n    return self.urlopen(\n           ^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 841, in urlopen\n    retries = retries.increment(\n              ^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/util/retry.py\", line 519, in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com', port=443): Max retries exceeded with url: /version (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x76529faf11f0>: Failed to resolve '670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com' ([Errno -2] Name or service not known)\"))\n", "module_stdout": "", "msg": "MODULE FAILURE: No start of json char found\nSee stdout/stderr for the exact error", "rc": 1}
2025-03-09 16:59:28,863 p=53519 u=ubuntu n=ansible INFO| An exception occurred during task execution. To see the full traceback, use -vvv. The error was: urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com', port=443): Max retries exceeded with url: /version (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x71681370d6a0>: Failed to resolve '670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com' ([Errno -2] Name or service not known)"))
2025-03-09 16:59:28,864 p=53519 u=ubuntu n=ansible INFO| failed: [localhost] (item=monitoring) => {"ansible_loop_var": "item", "changed": false, "item": "monitoring", "module_stderr": "Traceback (most recent call last):\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connection.py\", line 198, in _new_conn\n    sock = connection.create_connection(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/util/connection.py\", line 60, in create_connection\n    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/socket.py\", line 963, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno -2] Name or service not known\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 488, in _make_request\n    raise new_e\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 464, in _make_request\n    self._validate_conn(conn)\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 1093, in _validate_conn\n    conn.connect()\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connection.py\", line 704, in connect\n    self.sock = sock = self._new_conn()\n                       ^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connection.py\", line 205, in _new_conn\n    raise NameResolutionError(self.host, self, e) from e\nurllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x71681370d6a0>: Failed to resolve '670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com' ([Errno -2] Name or service not known)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/ubuntu/.ansible/tmp/ansible-tmp-1741539566.5208752-53639-109262496891226/AnsiballZ_k8s.py\", line 107, in <module>\n    _ansiballz_main()\n  File \"/home/ubuntu/.ansible/tmp/ansible-tmp-1741539566.5208752-53639-109262496891226/AnsiballZ_k8s.py\", line 99, in _ansiballz_main\n    invoke_module(zipped_mod, temp_path, ANSIBALLZ_PARAMS)\n  File \"/home/ubuntu/.ansible/tmp/ansible-tmp-1741539566.5208752-53639-109262496891226/AnsiballZ_k8s.py\", line 47, in invoke_module\n    runpy.run_module(mod_name='ansible_collections.kubernetes.core.plugins.modules.k8s', init_globals=dict(_module_fqn='ansible_collections.kubernetes.core.plugins.modules.k8s', _modlib_path=modlib_path),\n  File \"<frozen runpy>\", line 226, in run_module\n  File \"<frozen runpy>\", line 98, in _run_module_code\n  File \"<frozen runpy>\", line 88, in _run_code\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_ys0movvn/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/modules/k8s.py\", line 509, in <module>\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_ys0movvn/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/modules/k8s.py\", line 503, in main\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_ys0movvn/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/runner.py\", line 88, in run_module\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_ys0movvn/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/client.py\", line 352, in get_api_client\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_ys0movvn/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/client.py\", line 246, in wrapper\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_ys0movvn/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/client.py\", line 259, in create_api_client\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/dynamic/client.py\", line 84, in __init__\n    self.__discoverer = discoverer(self, cache_file)\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_ys0movvn/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/client/discovery.py\", line 190, in __init__\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_ys0movvn/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/client/discovery.py\", line 45, in __init__\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_ys0movvn/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/client/discovery.py\", line 92, in __init_cache\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/dynamic/discovery.py\", line 145, in _load_server_info\n    'kubernetes': self.client.request('get', '/version', serializer=just_json)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/dynamic/client.py\", line 55, in inner\n    resp = func(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/dynamic/client.py\", line 273, in request\n    api_response = self.client.call_api(\n                   ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/api_client.py\", line 348, in call_api\n    return self.__call_api(resource_path, method,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/api_client.py\", line 180, in __call_api\n    response_data = self.request(\n                    ^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/api_client.py\", line 373, in request\n    return self.rest_client.GET(url,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/rest.py\", line 244, in GET\n    return self.request(\"GET\", url,\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/rest.py\", line 217, in request\n    r = self.pool_manager.request(method, url,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/_request_methods.py\", line 135, in request\n    return self.request_encode_url(\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/_request_methods.py\", line 182, in request_encode_url\n    return self.urlopen(method, url, **extra_kw)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/poolmanager.py\", line 443, in urlopen\n    response = conn.urlopen(method, u.request_uri, **kw)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 871, in urlopen\n    return self.urlopen(\n           ^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 871, in urlopen\n    return self.urlopen(\n           ^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 871, in urlopen\n    return self.urlopen(\n           ^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 841, in urlopen\n    retries = retries.increment(\n              ^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/util/retry.py\", line 519, in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com', port=443): Max retries exceeded with url: /version (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x71681370d6a0>: Failed to resolve '670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com' ([Errno -2] Name or service not known)\"))\n", "module_stdout": "", "msg": "MODULE FAILURE: No start of json char found\nSee stdout/stderr for the exact error", "rc": 1}
2025-03-09 16:59:31,102 p=53519 u=ubuntu n=ansible INFO| An exception occurred during task execution. To see the full traceback, use -vvv. The error was: urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com', port=443): Max retries exceeded with url: /version (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x7441edfd6f60>: Failed to resolve '670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com' ([Errno -2] Name or service not known)"))
2025-03-09 16:59:31,103 p=53519 u=ubuntu n=ansible INFO| failed: [localhost] (item=database) => {"ansible_loop_var": "item", "changed": false, "item": "database", "module_stderr": "Traceback (most recent call last):\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connection.py\", line 198, in _new_conn\n    sock = connection.create_connection(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/util/connection.py\", line 60, in create_connection\n    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/socket.py\", line 963, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno -2] Name or service not known\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 488, in _make_request\n    raise new_e\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 464, in _make_request\n    self._validate_conn(conn)\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 1093, in _validate_conn\n    conn.connect()\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connection.py\", line 704, in connect\n    self.sock = sock = self._new_conn()\n                       ^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connection.py\", line 205, in _new_conn\n    raise NameResolutionError(self.host, self, e) from e\nurllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x7441edfd6f60>: Failed to resolve '670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com' ([Errno -2] Name or service not known)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/ubuntu/.ansible/tmp/ansible-tmp-1741539568.8891873-53639-116754431844166/AnsiballZ_k8s.py\", line 107, in <module>\n    _ansiballz_main()\n  File \"/home/ubuntu/.ansible/tmp/ansible-tmp-1741539568.8891873-53639-116754431844166/AnsiballZ_k8s.py\", line 99, in _ansiballz_main\n    invoke_module(zipped_mod, temp_path, ANSIBALLZ_PARAMS)\n  File \"/home/ubuntu/.ansible/tmp/ansible-tmp-1741539568.8891873-53639-116754431844166/AnsiballZ_k8s.py\", line 47, in invoke_module\n    runpy.run_module(mod_name='ansible_collections.kubernetes.core.plugins.modules.k8s', init_globals=dict(_module_fqn='ansible_collections.kubernetes.core.plugins.modules.k8s', _modlib_path=modlib_path),\n  File \"<frozen runpy>\", line 226, in run_module\n  File \"<frozen runpy>\", line 98, in _run_module_code\n  File \"<frozen runpy>\", line 88, in _run_code\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_38irxuzj/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/modules/k8s.py\", line 509, in <module>\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_38irxuzj/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/modules/k8s.py\", line 503, in main\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_38irxuzj/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/runner.py\", line 88, in run_module\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_38irxuzj/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/client.py\", line 352, in get_api_client\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_38irxuzj/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/client.py\", line 246, in wrapper\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_38irxuzj/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/k8s/client.py\", line 259, in create_api_client\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/dynamic/client.py\", line 84, in __init__\n    self.__discoverer = discoverer(self, cache_file)\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_38irxuzj/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/client/discovery.py\", line 190, in __init__\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_38irxuzj/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/client/discovery.py\", line 45, in __init__\n  File \"/tmp/ansible_kubernetes.core.k8s_payload_38irxuzj/ansible_kubernetes.core.k8s_payload.zip/ansible_collections/kubernetes/core/plugins/module_utils/client/discovery.py\", line 92, in __init_cache\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/dynamic/discovery.py\", line 145, in _load_server_info\n    'kubernetes': self.client.request('get', '/version', serializer=just_json)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/dynamic/client.py\", line 55, in inner\n    resp = func(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/dynamic/client.py\", line 273, in request\n    api_response = self.client.call_api(\n                   ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/api_client.py\", line 348, in call_api\n    return self.__call_api(resource_path, method,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/api_client.py\", line 180, in __call_api\n    response_data = self.request(\n                    ^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/api_client.py\", line 373, in request\n    return self.rest_client.GET(url,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/rest.py\", line 244, in GET\n    return self.request(\"GET\", url,\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/kubernetes/client/rest.py\", line 217, in request\n    r = self.pool_manager.request(method, url,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/_request_methods.py\", line 135, in request\n    return self.request_encode_url(\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/_request_methods.py\", line 182, in request_encode_url\n    return self.urlopen(method, url, **extra_kw)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/poolmanager.py\", line 443, in urlopen\n    response = conn.urlopen(method, u.request_uri, **kw)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 871, in urlopen\n    return self.urlopen(\n           ^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 871, in urlopen\n    return self.urlopen(\n           ^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 871, in urlopen\n    return self.urlopen(\n           ^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/connectionpool.py\", line 841, in urlopen\n    retries = retries.increment(\n              ^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/urllib3/util/retry.py\", line 519, in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com', port=443): Max retries exceeded with url: /version (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x7441edfd6f60>: Failed to resolve '670280e354a5a9f7ecfcac268fd88104.gr7.ap-northeast-2.eks.amazonaws.com' ([Errno -2] Name or service not known)\"))\n", "module_stdout": "", "msg": "MODULE FAILURE: No start of json char found\nSee stdout/stderr for the exact error", "rc": 1}
2025-03-09 16:59:31,107 p=53519 u=ubuntu n=ansible INFO| PLAY RECAP **********************************************************************************************************************************************
2025-03-09 16:59:31,107 p=53519 u=ubuntu n=ansible INFO| localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 06:18:49,703 p=59705 u=ubuntu n=ansible ERROR| ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_namespace/tasks/main.yml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

# 
- name: Create Kubernetes namespaces
  ^ here

2025-03-10 06:19:19,547 p=59737 u=ubuntu n=ansible ERROR| ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  mapping values are not allowed in this context. mapping values are not allowed in this context
  in "<unicode string>", line 3, column 22

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_namespace/tasks/main.yml': line 3, column 22, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

-name: Create Kubernetes namespaces
  kubernetes.core.k8s:
                     ^ here

2025-03-10 06:19:25,044 p=59756 u=ubuntu n=ansible ERROR| ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_namespace/tasks/main.yml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

# 
- name: Create Kubernetes namespaces
  ^ here

2025-03-10 06:19:56,152 p=59786 u=ubuntu n=ansible INFO| Starting galaxy collection install process
2025-03-10 06:19:56,732 p=59786 u=ubuntu n=ansible INFO| Nothing to do. All requested collections are already installed. If you want to reinstall them, consider using `--force`.
2025-03-10 06:20:03,790 p=59817 u=ubuntu n=ansible INFO| # /home/ubuntu/.ansible/collections/ansible_collections
Collection                               Version
---------------------------------------- -------

2025-03-10 06:20:03,791 p=59817 u=ubuntu n=ansible INFO| amazon.aws                               9.3.0  
2025-03-10 06:20:03,791 p=59817 u=ubuntu n=ansible INFO| # /home/ubuntu/ansible-eks-deploy/ansible-env/lib/python3.12/site-packages/ansible_collections
Collection                               Version
---------------------------------------- -------

2025-03-10 06:20:03,791 p=59817 u=ubuntu n=ansible INFO| amazon.aws                               9.2.0  
2025-03-10 06:20:03,791 p=59817 u=ubuntu n=ansible INFO| ansible.netcommon                        7.1.0  
2025-03-10 06:20:03,791 p=59817 u=ubuntu n=ansible INFO| ansible.posix                            1.6.2  
2025-03-10 06:20:03,791 p=59817 u=ubuntu n=ansible INFO| ansible.utils                            5.1.2  
2025-03-10 06:20:03,792 p=59817 u=ubuntu n=ansible INFO| ansible.windows                          2.7.0  
2025-03-10 06:20:03,792 p=59817 u=ubuntu n=ansible INFO| arista.eos                               10.1.1 
2025-03-10 06:20:03,792 p=59817 u=ubuntu n=ansible INFO| awx.awx                                  24.6.1 
2025-03-10 06:20:03,792 p=59817 u=ubuntu n=ansible INFO| azure.azcollection                       3.2.0  
2025-03-10 06:20:03,792 p=59817 u=ubuntu n=ansible INFO| check_point.mgmt                         6.4.0  
2025-03-10 06:20:03,792 p=59817 u=ubuntu n=ansible INFO| chocolatey.chocolatey                    1.5.3  
2025-03-10 06:20:03,792 p=59817 u=ubuntu n=ansible INFO| cisco.aci                                2.10.1 
2025-03-10 06:20:03,792 p=59817 u=ubuntu n=ansible INFO| cisco.asa                                6.1.0  
2025-03-10 06:20:03,792 p=59817 u=ubuntu n=ansible INFO| cisco.dnac                               6.30.0 
2025-03-10 06:20:03,792 p=59817 u=ubuntu n=ansible INFO| cisco.intersight                         2.0.20 
2025-03-10 06:20:03,792 p=59817 u=ubuntu n=ansible INFO| cisco.ios                                9.1.1  
2025-03-10 06:20:03,792 p=59817 u=ubuntu n=ansible INFO| cisco.iosxr                              10.3.0 
2025-03-10 06:20:03,793 p=59817 u=ubuntu n=ansible INFO| cisco.ise                                2.10.0 
2025-03-10 06:20:03,793 p=59817 u=ubuntu n=ansible INFO| cisco.meraki                             2.20.8 
2025-03-10 06:20:03,793 p=59817 u=ubuntu n=ansible INFO| cisco.mso                                2.9.0  
2025-03-10 06:20:03,793 p=59817 u=ubuntu n=ansible INFO| cisco.nxos                               9.3.0  
2025-03-10 06:20:03,793 p=59817 u=ubuntu n=ansible INFO| cisco.ucs                                1.15.0 
2025-03-10 06:20:03,793 p=59817 u=ubuntu n=ansible INFO| cloud.common                             4.0.0  
2025-03-10 06:20:03,793 p=59817 u=ubuntu n=ansible INFO| cloudscale_ch.cloud                      2.4.1  
2025-03-10 06:20:03,793 p=59817 u=ubuntu n=ansible INFO| community.aws                            9.0.0  
2025-03-10 06:20:03,793 p=59817 u=ubuntu n=ansible INFO| community.ciscosmb                       1.0.10 
2025-03-10 06:20:03,793 p=59817 u=ubuntu n=ansible INFO| community.crypto                         2.25.0 
2025-03-10 06:20:03,793 p=59817 u=ubuntu n=ansible INFO| community.digitalocean                   1.27.0 
2025-03-10 06:20:03,793 p=59817 u=ubuntu n=ansible INFO| community.dns                            3.2.1  
2025-03-10 06:20:03,793 p=59817 u=ubuntu n=ansible INFO| community.docker                         4.4.0  
2025-03-10 06:20:03,794 p=59817 u=ubuntu n=ansible INFO| community.general                        10.4.0 
2025-03-10 06:20:03,794 p=59817 u=ubuntu n=ansible INFO| community.grafana                        2.1.0  
2025-03-10 06:20:03,794 p=59817 u=ubuntu n=ansible INFO| community.hashi_vault                    6.2.0  
2025-03-10 06:20:03,794 p=59817 u=ubuntu n=ansible INFO| community.hrobot                         2.1.0  
2025-03-10 06:20:03,794 p=59817 u=ubuntu n=ansible INFO| community.library_inventory_filtering_v1 1.0.2  
2025-03-10 06:20:03,794 p=59817 u=ubuntu n=ansible INFO| community.libvirt                        1.3.1  
2025-03-10 06:20:03,794 p=59817 u=ubuntu n=ansible INFO| community.mongodb                        1.7.9  
2025-03-10 06:20:03,794 p=59817 u=ubuntu n=ansible INFO| community.mysql                          3.12.0 
2025-03-10 06:20:03,794 p=59817 u=ubuntu n=ansible INFO| community.network                        5.1.0  
2025-03-10 06:20:03,794 p=59817 u=ubuntu n=ansible INFO| community.okd                            4.0.1  
2025-03-10 06:20:03,795 p=59817 u=ubuntu n=ansible INFO| community.postgresql                     3.10.2 
2025-03-10 06:20:03,795 p=59817 u=ubuntu n=ansible INFO| community.proxysql                       1.6.0  
2025-03-10 06:20:03,795 p=59817 u=ubuntu n=ansible INFO| community.rabbitmq                       1.4.0  
2025-03-10 06:20:03,795 p=59817 u=ubuntu n=ansible INFO| community.routeros                       3.4.0  
2025-03-10 06:20:03,795 p=59817 u=ubuntu n=ansible INFO| community.sap_libs                       1.4.2  
2025-03-10 06:20:03,795 p=59817 u=ubuntu n=ansible INFO| community.sops                           2.0.2  
2025-03-10 06:20:03,795 p=59817 u=ubuntu n=ansible INFO| community.vmware                         5.4.0  
2025-03-10 06:20:03,795 p=59817 u=ubuntu n=ansible INFO| community.windows                        2.3.0  
2025-03-10 06:20:03,795 p=59817 u=ubuntu n=ansible INFO| community.zabbix                         3.2.0  
2025-03-10 06:20:03,795 p=59817 u=ubuntu n=ansible INFO| containers.podman                        1.16.3 
2025-03-10 06:20:03,795 p=59817 u=ubuntu n=ansible INFO| cyberark.conjur                          1.3.2  
2025-03-10 06:20:03,795 p=59817 u=ubuntu n=ansible INFO| cyberark.pas                             1.0.30 
2025-03-10 06:20:03,796 p=59817 u=ubuntu n=ansible INFO| dellemc.enterprise_sonic                 2.5.1  
2025-03-10 06:20:03,796 p=59817 u=ubuntu n=ansible INFO| dellemc.openmanage                       9.10.0 
2025-03-10 06:20:03,796 p=59817 u=ubuntu n=ansible INFO| dellemc.powerflex                        2.6.0  
2025-03-10 06:20:03,796 p=59817 u=ubuntu n=ansible INFO| dellemc.unity                            2.0.0  
2025-03-10 06:20:03,796 p=59817 u=ubuntu n=ansible INFO| f5networks.f5_modules                    1.34.1 
2025-03-10 06:20:03,796 p=59817 u=ubuntu n=ansible INFO| fortinet.fortimanager                    2.9.0  
2025-03-10 06:20:03,796 p=59817 u=ubuntu n=ansible INFO| fortinet.fortios                         2.3.9  
2025-03-10 06:20:03,796 p=59817 u=ubuntu n=ansible INFO| google.cloud                             1.5.1  
2025-03-10 06:20:03,796 p=59817 u=ubuntu n=ansible INFO| grafana.grafana                          5.7.0  
2025-03-10 06:20:03,796 p=59817 u=ubuntu n=ansible INFO| hetzner.hcloud                           4.2.2  
2025-03-10 06:20:03,796 p=59817 u=ubuntu n=ansible INFO| ibm.qradar                               4.0.0  
2025-03-10 06:20:03,796 p=59817 u=ubuntu n=ansible INFO| ibm.spectrum_virtualize                  2.0.0  
2025-03-10 06:20:03,796 p=59817 u=ubuntu n=ansible INFO| ibm.storage_virtualize                   2.6.0  
2025-03-10 06:20:03,797 p=59817 u=ubuntu n=ansible INFO| ieisystem.inmanage                       3.0.0  
2025-03-10 06:20:03,797 p=59817 u=ubuntu n=ansible INFO| infinidat.infinibox                      1.4.5  
2025-03-10 06:20:03,797 p=59817 u=ubuntu n=ansible INFO| infoblox.nios_modules                    1.8.0  
2025-03-10 06:20:03,797 p=59817 u=ubuntu n=ansible INFO| inspur.ispim                             2.2.3  
2025-03-10 06:20:03,797 p=59817 u=ubuntu n=ansible INFO| junipernetworks.junos                    9.1.0  
2025-03-10 06:20:03,797 p=59817 u=ubuntu n=ansible INFO| kaytus.ksmanage                          2.0.0  
2025-03-10 06:20:03,797 p=59817 u=ubuntu n=ansible INFO| kubernetes.core                          5.1.0  
2025-03-10 06:20:03,797 p=59817 u=ubuntu n=ansible INFO| kubevirt.core                            2.1.0  
2025-03-10 06:20:03,797 p=59817 u=ubuntu n=ansible INFO| lowlydba.sqlserver                       2.5.0  
2025-03-10 06:20:03,797 p=59817 u=ubuntu n=ansible INFO| microsoft.ad                             1.8.0  
2025-03-10 06:20:03,797 p=59817 u=ubuntu n=ansible INFO| netapp.cloudmanager                      21.24.0
2025-03-10 06:20:03,797 p=59817 u=ubuntu n=ansible INFO| netapp.ontap                             22.14.0
2025-03-10 06:20:03,797 p=59817 u=ubuntu n=ansible INFO| netapp.storagegrid                       21.14.0
2025-03-10 06:20:03,798 p=59817 u=ubuntu n=ansible INFO| netapp_eseries.santricity                1.4.1  
2025-03-10 06:20:03,798 p=59817 u=ubuntu n=ansible INFO| netbox.netbox                            3.20.0 
2025-03-10 06:20:03,798 p=59817 u=ubuntu n=ansible INFO| ngine_io.cloudstack                      2.5.0  
2025-03-10 06:20:03,798 p=59817 u=ubuntu n=ansible INFO| openstack.cloud                          2.4.1  
2025-03-10 06:20:03,798 p=59817 u=ubuntu n=ansible INFO| ovirt.ovirt                              3.2.0  
2025-03-10 06:20:03,798 p=59817 u=ubuntu n=ansible INFO| purestorage.flasharray                   1.33.1 
2025-03-10 06:20:03,798 p=59817 u=ubuntu n=ansible INFO| purestorage.flashblade                   1.19.2 
2025-03-10 06:20:03,798 p=59817 u=ubuntu n=ansible INFO| sensu.sensu_go                           1.14.0 
2025-03-10 06:20:03,798 p=59817 u=ubuntu n=ansible INFO| splunk.es                                4.0.0  
2025-03-10 06:20:03,798 p=59817 u=ubuntu n=ansible INFO| telekom_mms.icinga_director              2.2.2  
2025-03-10 06:20:03,798 p=59817 u=ubuntu n=ansible INFO| theforeman.foreman                       4.2.0  
2025-03-10 06:20:03,799 p=59817 u=ubuntu n=ansible INFO| vmware.vmware                            1.10.1 
2025-03-10 06:20:03,799 p=59817 u=ubuntu n=ansible INFO| vmware.vmware_rest                       4.6.0  
2025-03-10 06:20:03,799 p=59817 u=ubuntu n=ansible INFO| vultr.cloud                              1.13.0 
2025-03-10 06:20:03,799 p=59817 u=ubuntu n=ansible INFO| vyos.vyos                                5.0.0  
2025-03-10 06:20:03,799 p=59817 u=ubuntu n=ansible INFO| wti.remote                               1.0.10 
2025-03-10 06:20:34,826 p=59935 u=ubuntu n=ansible ERROR| ERROR! 'loop' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_namespace/tasks/main.yml': line 3, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

---
- name: Create Kubernetes namespace
  ^ here

2025-03-10 06:20:56,786 p=59967 u=ubuntu n=ansible ERROR| ERROR! 'loop' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_namespace/tasks/main.yml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

---
- name: Create Kubernetes namespace
  ^ here

2025-03-10 06:21:17,017 p=60025 u=ubuntu n=ansible ERROR| ERROR! 'loop' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_namespace/tasks/main.yml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

---
- name: Create Kubernetes namespace
  ^ here

2025-03-10 06:24:25,246 p=60088 u=ubuntu n=ansible INFO| PLAY [Create Kubernetes namespaces] ************************************************************************************************************************
2025-03-10 06:24:25,417 p=60088 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 06:24:28,238 p=60088 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 06:24:28,254 p=60088 u=ubuntu n=ansible INFO| TASK [Ensure namespaces exist] *****************************************************************************************************************************
2025-03-10 06:24:30,674 p=60088 u=ubuntu n=ansible INFO| failed: [localhost] (item=infrastructure) => {"ansible_loop_var": "item", "changed": false, "item": "infrastructure", "msg": "Failed to import the required Python library (kubernetes) on ip-10-0-16-183's Python /usr/bin/python3. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2025-03-10 06:24:32,378 p=60088 u=ubuntu n=ansible INFO| failed: [localhost] (item=monitoring) => {"ansible_loop_var": "item", "changed": false, "item": "monitoring", "msg": "Failed to import the required Python library (kubernetes) on ip-10-0-16-183's Python /usr/bin/python3. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2025-03-10 06:24:34,540 p=60088 u=ubuntu n=ansible INFO| failed: [localhost] (item=database) => {"ansible_loop_var": "item", "changed": false, "item": "database", "msg": "Failed to import the required Python library (kubernetes) on ip-10-0-16-183's Python /usr/bin/python3. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2025-03-10 06:24:34,542 p=60088 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 06:24:34,543 p=60088 u=ubuntu n=ansible INFO| localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 06:28:05,803 p=60395 u=ubuntu n=ansible INFO| PLAY [Create Kubernetes namespaces] ************************************************************************************************************************
2025-03-10 06:28:05,959 p=60395 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 06:28:14,975 p=60395 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 06:28:14,996 p=60395 u=ubuntu n=ansible INFO| TASK [Ensure namespaces exist] *****************************************************************************************************************************
2025-03-10 06:28:16,970 p=60395 u=ubuntu n=ansible INFO| failed: [localhost] (item=infrastructure) => {"ansible_loop_var": "item", "changed": false, "item": "infrastructure", "msg": "Failed to import the required Python library (kubernetes) on ip-10-0-16-183's Python /usr/bin/python3. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2025-03-10 06:28:18,450 p=60395 u=ubuntu n=ansible INFO| failed: [localhost] (item=monitoring) => {"ansible_loop_var": "item", "changed": false, "item": "monitoring", "msg": "Failed to import the required Python library (kubernetes) on ip-10-0-16-183's Python /usr/bin/python3. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2025-03-10 06:28:20,022 p=60395 u=ubuntu n=ansible INFO| failed: [localhost] (item=database) => {"ansible_loop_var": "item", "changed": false, "item": "database", "msg": "Failed to import the required Python library (kubernetes) on ip-10-0-16-183's Python /usr/bin/python3. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2025-03-10 06:28:20,031 p=60395 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 06:28:20,031 p=60395 u=ubuntu n=ansible INFO| localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 06:31:40,550 p=60774 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 06:31:40,676 p=60774 u=ubuntu n=ansible INFO| PLAY [Create Kubernetes namespaces] ************************************************************************************************************************
2025-03-10 06:31:40,819 p=60774 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 06:31:45,278 p=60774 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 06:31:45,295 p=60774 u=ubuntu n=ansible INFO| TASK [Ensure namespaces exist] *****************************************************************************************************************************
2025-03-10 06:40:56,211 p=1428 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 06:40:56,564 p=1428 u=ubuntu n=ansible | ERROR! conflicting action statements: hosts, tasks

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_namespace/tasks/main.yml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

---
- name: Create Kubernetes namespaces
  ^ here

2025-03-10 06:41:25,146 p=1497 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 06:41:25,341 p=1497 u=ubuntu n=ansible | ERROR! conflicting action statements: hosts, tasks

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_namespace/tasks/main.yml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

---
- name: Create Kubernetes namespaces
  ^ here

2025-03-10 07:13:36,978 p=2029 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:13:37,154 p=2029 u=ubuntu n=ansible | PLAY [Create Kubernetes namespaces] ************************************************************************************************************************
2025-03-10 07:13:37,184 p=2029 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 07:13:38,458 p=2029 u=ubuntu n=ansible | ok: [localhost]
2025-03-10 07:13:38,477 p=2029 u=ubuntu n=ansible | TASK [Ensure namespaces exist] *****************************************************************************************************************************
2025-03-10 07:13:42,109 p=2029 u=ubuntu n=ansible | changed: [localhost] => (item=infrastructure)
2025-03-10 07:13:44,521 p=2029 u=ubuntu n=ansible | changed: [localhost] => (item=monitoring)
2025-03-10 07:13:46,618 p=2029 u=ubuntu n=ansible | changed: [localhost] => (item=database)
2025-03-10 07:13:46,643 p=2029 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************
2025-03-10 07:13:46,644 p=2029 u=ubuntu n=ansible | localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-10 07:14:57,160 p=2347 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:14:57,340 p=2347 u=ubuntu n=ansible | ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_secret/tasks/main.yml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

#Secret 
- name: Create Secret for applications
  ^ here

2025-03-10 07:14:58,034 p=2350 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:14:58,196 p=2350 u=ubuntu n=ansible | ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_configmap/tasks/main.yml': line 3, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

#   
- name: Create ConfigMap for applications
  ^ here

2025-03-10 07:31:11,596 p=3310 u=ubuntu n=ansible | Starting galaxy collection install process
2025-03-10 07:31:12,185 p=3310 u=ubuntu n=ansible | Nothing to do. All requested collections are already installed. If you want to reinstall them, consider using `--force`.
2025-03-10 07:31:28,683 p=3392 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:31:28,954 p=3392 u=ubuntu n=ansible | ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_secret/tasks/main.yml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

#Secret 
- name: Create Secret for applications
  ^ here

2025-03-10 07:31:29,608 p=3398 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:31:29,774 p=3398 u=ubuntu n=ansible | ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_configmap/tasks/main.yml': line 3, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

#   
- name: Create ConfigMap for applications
  ^ here

2025-03-10 07:31:58,690 p=3432 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:31:58,889 p=3432 u=ubuntu n=ansible | PLAY [Create ConfigMap for applications] *******************************************************************************************************************
2025-03-10 07:31:58,943 p=3432 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 07:32:00,510 p=3432 u=ubuntu n=ansible | ok: [localhost]
2025-03-10 07:32:00,533 p=3432 u=ubuntu n=ansible | TASK [Apply Kubernetes ConfigMap] **************************************************************************************************************************
2025-03-10 07:32:00,576 p=3432 u=ubuntu n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2025-03-10 07:32:00,577 p=3432 u=ubuntu n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/ansible-eks-deploy/roles/eks_configmap/tasks/k8s-manifests/configmap.yml' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2025-03-10 07:32:00,578 p=3432 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************
2025-03-10 07:32:00,578 p=3432 u=ubuntu n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 07:33:05,801 p=3589 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:33:05,999 p=3589 u=ubuntu n=ansible | PLAY [Create ConfigMap for applications] *******************************************************************************************************************
2025-03-10 07:33:06,034 p=3589 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 07:33:07,210 p=3589 u=ubuntu n=ansible | ok: [localhost]
2025-03-10 07:33:07,236 p=3589 u=ubuntu n=ansible | TASK [Apply Kubernetes ConfigMap] **************************************************************************************************************************
2025-03-10 07:33:07,316 p=3589 u=ubuntu n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2025-03-10 07:33:07,316 p=3589 u=ubuntu n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/ansible-eks-deploy/roles/eks_configmap/tasks/k8s-manifests/configmap.yml' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2025-03-10 07:33:07,317 p=3589 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************
2025-03-10 07:33:07,319 p=3589 u=ubuntu n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 07:33:09,946 p=3729 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:33:10,118 p=3729 u=ubuntu n=ansible | PLAY [Create Secret for applications] **********************************************************************************************************************
2025-03-10 07:33:10,151 p=3729 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 07:33:11,485 p=3729 u=ubuntu n=ansible | ok: [localhost]
2025-03-10 07:33:11,510 p=3729 u=ubuntu n=ansible | TASK [Apply Kubernetes Secret] *****************************************************************************************************************************
2025-03-10 07:33:11,546 p=3729 u=ubuntu n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2025-03-10 07:33:11,547 p=3729 u=ubuntu n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/ansible-eks-deploy/roles/eks_secret/tasks/k8s-manifests/secret.yml' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2025-03-10 07:33:11,548 p=3729 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************
2025-03-10 07:33:11,548 p=3729 u=ubuntu n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 07:35:59,794 p=3968 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:36:00,186 p=3968 u=ubuntu n=ansible | PLAY [Create Secret for applications] **********************************************************************************************************************
2025-03-10 07:36:00,239 p=3968 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 07:36:01,492 p=3968 u=ubuntu n=ansible | ok: [localhost]
2025-03-10 07:36:01,515 p=3968 u=ubuntu n=ansible | TASK [Apply Kubernetes Secret] *****************************************************************************************************************************
2025-03-10 07:36:01,577 p=3968 u=ubuntu n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2025-03-10 07:36:01,578 p=3968 u=ubuntu n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/ansible-eks-deploy/roles/eks_secret/tasks/k8s-manifests/secret.yml' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2025-03-10 07:36:01,587 p=3968 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************
2025-03-10 07:36:01,588 p=3968 u=ubuntu n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 07:36:05,292 p=4115 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:36:05,534 p=4115 u=ubuntu n=ansible | PLAY [Create ConfigMap for applications] *******************************************************************************************************************
2025-03-10 07:36:05,610 p=4115 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 07:36:07,079 p=4115 u=ubuntu n=ansible | ok: [localhost]
2025-03-10 07:36:07,103 p=4115 u=ubuntu n=ansible | TASK [Apply Kubernetes ConfigMap] **************************************************************************************************************************
2025-03-10 07:36:07,178 p=4115 u=ubuntu n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2025-03-10 07:36:07,179 p=4115 u=ubuntu n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/ansible-eks-deploy/roles/eks_configmap/tasks/k8s-manifests/configmap.yml' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2025-03-10 07:36:07,180 p=4115 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************
2025-03-10 07:36:07,180 p=4115 u=ubuntu n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 07:41:09,658 p=4543 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:41:09,819 p=4543 u=ubuntu n=ansible | ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_configmap/tasks/main.yml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

#  roles/eks_configmap/tasks/main.yml 
- name: Apply Kubernetes ConfigMap
  ^ here

2025-03-10 07:41:16,781 p=4570 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:41:16,919 p=4570 u=ubuntu n=ansible | ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_configmap/tasks/main.yml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

---
- name: Apply Kubernetes ConfigMap
  ^ here

2025-03-10 07:41:25,237 p=4603 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:41:25,481 p=4603 u=ubuntu n=ansible | ERROR! conflicting action statements: hosts, tasks

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_namespace/tasks/main.yml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

---
- name: Create Kubernetes namespaces
  ^ here

2025-03-10 07:42:24,571 p=4635 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:42:24,816 p=4635 u=ubuntu n=ansible | PLAY [Create Kubernetes namespaces] ************************************************************************************************************************
2025-03-10 07:42:24,854 p=4635 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 07:42:26,457 p=4635 u=ubuntu n=ansible | ok: [localhost]
2025-03-10 07:42:26,475 p=4635 u=ubuntu n=ansible | TASK [Ensure namespaces exist] *****************************************************************************************************************************
2025-03-10 07:42:29,185 p=4635 u=ubuntu n=ansible | ok: [localhost] => (item=infrastructure)
2025-03-10 07:42:31,311 p=4635 u=ubuntu n=ansible | ok: [localhost] => (item=monitoring)
2025-03-10 07:42:33,376 p=4635 u=ubuntu n=ansible | ok: [localhost] => (item=database)
2025-03-10 07:42:33,403 p=4635 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************
2025-03-10 07:42:33,403 p=4635 u=ubuntu n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-10 07:42:53,789 p=5000 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:42:54,008 p=5000 u=ubuntu n=ansible | PLAY [Create Secret for applications] **********************************************************************************************************************
2025-03-10 07:42:54,048 p=5000 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 07:42:55,448 p=5000 u=ubuntu n=ansible | ok: [localhost]
2025-03-10 07:42:55,468 p=5000 u=ubuntu n=ansible | TASK [Apply Kubernetes Secret] *****************************************************************************************************************************
2025-03-10 07:42:55,507 p=5000 u=ubuntu n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2025-03-10 07:42:55,507 p=5000 u=ubuntu n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "msg": "Could not find or access '/home/ubuntu/ansible-eks-deploy/roles/eks_secret/tasks/k8s-manifests/secret.yml' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2025-03-10 07:42:55,508 p=5000 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************
2025-03-10 07:42:55,508 p=5000 u=ubuntu n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 07:43:13,758 p=5165 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:43:13,989 p=5165 u=ubuntu n=ansible | ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_configmap/tasks/main.yml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

---
- name: Apply Kubernetes ConfigMap
  ^ here

2025-03-10 07:44:21,959 p=5197 u=ubuntu n=ansible | Starting galaxy collection install process
2025-03-10 07:44:22,243 p=5197 u=ubuntu n=ansible | Nothing to do. All requested collections are already installed. If you want to reinstall them, consider using `--force`.
2025-03-10 07:44:25,540 p=5214 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:44:25,730 p=5214 u=ubuntu n=ansible | ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_configmap/tasks/main.yml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

---
- name: Apply Kubernetes ConfigMap
  ^ here

2025-03-10 07:46:58,843 p=5503 u=ubuntu n=ansible INFO| Starting galaxy collection install process
2025-03-10 07:46:59,076 p=5503 u=ubuntu n=ansible INFO| Nothing to do. All requested collections are already installed. If you want to reinstall them, consider using `--force`.
2025-03-10 07:47:54,294 p=5571 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:47:54,331 p=5571 u=ubuntu n=ansible ERROR| ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_configmap/tasks/main.yml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

---
- name: Apply Kubernetes ConfigMap
  ^ here

2025-03-10 07:48:54,308 p=5625 u=ubuntu n=ansible INFO| Starting galaxy collection install process
2025-03-10 07:48:54,472 p=5625 u=ubuntu n=ansible INFO| Nothing to do. All requested collections are already installed. If you want to reinstall them, consider using `--force`.
2025-03-10 07:49:00,641 p=5657 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:49:00,698 p=5657 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes ConfigMap] **************************************************************************************************************************
2025-03-10 07:49:00,739 p=5657 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 07:49:02,139 p=5657 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 07:49:02,145 p=5657 u=ubuntu n=ansible INFO| TASK [Create ConfigMap for applications] *******************************************************************************************************************
2025-03-10 07:49:04,973 p=5657 u=ubuntu n=ansible INFO| fatal: [localhost]: FAILED! => {"changed": false, "msg": "Failed to create object: b'{\"kind\":\"Status\",\"apiVersion\":\"v1\",\"metadata\":{},\"status\":\"Failure\",\"message\":\"namespaces \\\\\"application\\\\\" not found\",\"reason\":\"NotFound\",\"details\":{\"name\":\"application\",\"kind\":\"namespaces\"},\"code\":404}\\n'", "reason": "Not Found"}
2025-03-10 07:49:04,974 p=5657 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 07:49:04,975 p=5657 u=ubuntu n=ansible INFO| localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 07:58:37,088 p=6273 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 07:58:37,127 p=6273 u=ubuntu n=ansible ERROR| ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/main.yml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

#PVC 
- name: Create PersistentVolumeClaim for applications
  ^ here

2025-03-10 08:02:08,902 p=6491 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:02:08,998 p=6491 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes PVC manifests] **********************************************************************************************************************
2025-03-10 08:02:09,014 p=6491 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 08:02:10,599 p=6491 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:02:10,607 p=6491 u=ubuntu n=ansible INFO| TASK [Apply PVC for monitoring tools] **********************************************************************************************************************
2025-03-10 08:02:11,321 p=6491 u=ubuntu n=ansible INFO| failed: [localhost] (item=kubectl apply -f ~/ansible-eks-deploy/k8s-manifests/grafana-pvc.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "kubectl apply -f ~/ansible-eks-deploy/k8s-manifests/grafana-pvc.yml"], "delta": "0:00:00.211392", "end": "2025-03-10 08:02:11.266987", "item": "kubectl apply -f ~/ansible-eks-deploy/k8s-manifests/grafana-pvc.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:02:11.055595", "stderr": "error: the path \"kubectl apply -f ~/ansible-eks-deploy/k8s-manifests/grafana-pvc.yml\" does not exist", "stderr_lines": ["error: the path \"kubectl apply -f ~/ansible-eks-deploy/k8s-manifests/grafana-pvc.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:02:11,714 p=6491 u=ubuntu n=ansible INFO| failed: [localhost] (item=kubectl apply -f ~/ansible-eks-deploy/k8s-manifests/prometheus-pvc.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "kubectl apply -f ~/ansible-eks-deploy/k8s-manifests/prometheus-pvc.yml"], "delta": "0:00:00.113833", "end": "2025-03-10 08:02:11.683564", "item": "kubectl apply -f ~/ansible-eks-deploy/k8s-manifests/prometheus-pvc.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:02:11.569731", "stderr": "error: the path \"kubectl apply -f ~/ansible-eks-deploy/k8s-manifests/prometheus-pvc.yml\" does not exist", "stderr_lines": ["error: the path \"kubectl apply -f ~/ansible-eks-deploy/k8s-manifests/prometheus-pvc.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:02:12,124 p=6491 u=ubuntu n=ansible INFO| failed: [localhost] (item=kubectl apply -f ~/ansible-eks-deploy/k8s-manifests/jmeter-pvc.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "kubectl apply -f ~/ansible-eks-deploy/k8s-manifests/jmeter-pvc.yml"], "delta": "0:00:00.144274", "end": "2025-03-10 08:02:12.094993", "item": "kubectl apply -f ~/ansible-eks-deploy/k8s-manifests/jmeter-pvc.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:02:11.950719", "stderr": "error: the path \"kubectl apply -f ~/ansible-eks-deploy/k8s-manifests/jmeter-pvc.yml\" does not exist", "stderr_lines": ["error: the path \"kubectl apply -f ~/ansible-eks-deploy/k8s-manifests/jmeter-pvc.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:02:12,126 p=6491 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 08:02:12,127 p=6491 u=ubuntu n=ansible INFO| localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 08:09:24,338 p=6821 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:09:24,457 p=6821 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes PVC manifests] **********************************************************************************************************************
2025-03-10 08:09:24,466 p=6821 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 08:09:25,964 p=6821 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:09:25,974 p=6821 u=ubuntu n=ansible INFO| TASK [Apply PVC for required components] *******************************************************************************************************************
2025-03-10 08:09:26,666 p=6821 u=ubuntu n=ansible INFO| failed: [localhost] (item=mysql-pvc.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/mysql-pvc.yml"], "delta": "0:00:00.140917", "end": "2025-03-10 08:09:26.620230", "item": "mysql-pvc.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:09:26.479313", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/mysql-pvc.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/mysql-pvc.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:09:27,214 p=6821 u=ubuntu n=ansible INFO| failed: [localhost] (item=prometheus-pvc.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/prometheus-pvc.yml"], "delta": "0:00:00.175573", "end": "2025-03-10 08:09:27.184066", "item": "prometheus-pvc.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:09:27.008493", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/prometheus-pvc.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/prometheus-pvc.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:09:27,651 p=6821 u=ubuntu n=ansible INFO| failed: [localhost] (item=grafana-pvc.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/grafana-pvc.yml"], "delta": "0:00:00.160550", "end": "2025-03-10 08:09:27.621858", "item": "grafana-pvc.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:09:27.461308", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/grafana-pvc.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/grafana-pvc.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:09:27,659 p=6821 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 08:09:27,660 p=6821 u=ubuntu n=ansible INFO| localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 08:15:02,103 p=7195 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:15:02,222 p=7195 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes PVC manifests] **********************************************************************************************************************
2025-03-10 08:15:02,231 p=7195 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 08:15:03,658 p=7195 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:15:03,665 p=7195 u=ubuntu n=ansible INFO| TASK [Apply PVC for required components] *******************************************************************************************************************
2025-03-10 08:15:04,180 p=7195 u=ubuntu n=ansible INFO| failed: [localhost] (item=mysql-pvc.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/mysql-pvc.yml"], "delta": "0:00:00.110033", "end": "2025-03-10 08:15:04.146855", "item": "mysql-pvc.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:15:04.036822", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/mysql-pvc.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/mysql-pvc.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:15:04,569 p=7195 u=ubuntu n=ansible INFO| failed: [localhost] (item=prometheus-pvc.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/prometheus-pvc.yml"], "delta": "0:00:00.106803", "end": "2025-03-10 08:15:04.542331", "item": "prometheus-pvc.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:15:04.435528", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/prometheus-pvc.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/prometheus-pvc.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:15:04,923 p=7195 u=ubuntu n=ansible INFO| failed: [localhost] (item=grafana-pvc.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/grafana-pvc.yml"], "delta": "0:00:00.116832", "end": "2025-03-10 08:15:04.899313", "item": "grafana-pvc.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:15:04.782481", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/grafana-pvc.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_pvc/tasks/k8s-manifests/grafana-pvc.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:15:04,925 p=7195 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 08:15:04,925 p=7195 u=ubuntu n=ansible INFO| localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 08:16:25,952 p=7539 u=ubuntu n=ansible ERROR| ERROR! the playbook: roles/eks_pvc/tasks/main.ymlls could not be found
2025-03-10 08:17:30,293 p=7696 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:17:30,378 p=7696 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes PVC manifests] **********************************************************************************************************************
2025-03-10 08:17:30,386 p=7696 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 08:17:31,736 p=7696 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:17:31,744 p=7696 u=ubuntu n=ansible INFO| TASK [Apply PVC for required components] *******************************************************************************************************************
2025-03-10 08:17:33,614 p=7696 u=ubuntu n=ansible INFO| changed: [localhost] => (item=mysql-pvc.yml)
2025-03-10 08:17:35,362 p=7696 u=ubuntu n=ansible INFO| changed: [localhost] => (item=prometheus-pvc.yml)
2025-03-10 08:17:37,089 p=7696 u=ubuntu n=ansible INFO| changed: [localhost] => (item=grafana-pvc.yml)
2025-03-10 08:17:37,091 p=7696 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 08:17:37,091 p=7696 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-10 08:26:42,446 p=8408 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:26:42,508 p=8408 u=ubuntu n=ansible ERROR| ERROR! the role 'eks_secret' was not found in /home/ubuntu/ansible-eks-deploy/roles:/home/ubuntu/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles:/home/ubuntu/ansible-eks-deploy

The error appears to be in '/home/ubuntu/ansible-eks-deploy/playbook.yml': line 10, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

    - eks_ingress
    - eks_secret
      ^ here

2025-03-10 08:27:32,285 p=8465 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:27:32,335 p=8465 u=ubuntu n=ansible ERROR| ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  did not find expected key. while parsing a block mapping
  in "<unicode string>", line 4, column 5
did not find expected key
  in "<unicode string>", line 6, column 5

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/main.yml': line 6, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

    src: "{{ item }}"
    - name: Create Services for applications
    ^ here

2025-03-10 08:28:21,534 p=8497 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:28:21,632 p=8497 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes Services] ***************************************************************************************************************************
2025-03-10 08:28:21,641 p=8497 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 08:28:22,984 p=8497 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:28:22,991 p=8497 u=ubuntu n=ansible INFO| TASK [Create Services for applications] ********************************************************************************************************************
2025-03-10 08:28:23,581 p=8497 u=ubuntu n=ansible INFO| failed: [localhost] (item=grafana-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/grafana-service.yml"], "delta": "0:00:00.142594", "end": "2025-03-10 08:28:23.546975", "item": "grafana-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:28:23.404381", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/grafana-service.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/grafana-service.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:28:23,946 p=8497 u=ubuntu n=ansible INFO| failed: [localhost] (item=prometheus-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/prometheus-service.yml"], "delta": "0:00:00.110221", "end": "2025-03-10 08:28:23.918074", "item": "prometheus-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:28:23.807853", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/prometheus-service.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/prometheus-service.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:28:24,316 p=8497 u=ubuntu n=ansible INFO| failed: [localhost] (item=jmeter-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/jmeter-service.yml"], "delta": "0:00:00.111865", "end": "2025-03-10 08:28:24.286578", "item": "jmeter-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:28:24.174713", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/jmeter-service.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/jmeter-service.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:28:24,725 p=8497 u=ubuntu n=ansible INFO| failed: [localhost] (item=mysql-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/mysql-service.yml"], "delta": "0:00:00.143022", "end": "2025-03-10 08:28:24.680060", "item": "mysql-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:28:24.537038", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/mysql-service.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/mysql-service.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:28:24,728 p=8497 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 08:28:24,729 p=8497 u=ubuntu n=ansible INFO| localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 08:32:22,719 p=8854 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:32:22,818 p=8854 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes Services] ***************************************************************************************************************************
2025-03-10 08:32:22,827 p=8854 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 08:32:24,301 p=8854 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:32:24,309 p=8854 u=ubuntu n=ansible INFO| TASK [Create Services for applications] ********************************************************************************************************************
2025-03-10 08:32:24,871 p=8854 u=ubuntu n=ansible INFO| failed: [localhost] (item=grafana-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/grafana-service.yml"], "delta": "0:00:00.112312", "end": "2025-03-10 08:32:24.843669", "item": "grafana-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:32:24.731357", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/grafana-service.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/grafana-service.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:32:25,263 p=8854 u=ubuntu n=ansible INFO| failed: [localhost] (item=prometheus-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/prometheus-service.yml"], "delta": "0:00:00.144783", "end": "2025-03-10 08:32:25.236286", "item": "prometheus-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:32:25.091503", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/prometheus-service.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/prometheus-service.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:32:25,658 p=8854 u=ubuntu n=ansible INFO| failed: [localhost] (item=jmeter-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/jmeter-service.yml"], "delta": "0:00:00.139031", "end": "2025-03-10 08:32:25.631318", "item": "jmeter-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:32:25.492287", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/jmeter-service.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/jmeter-service.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:32:26,053 p=8854 u=ubuntu n=ansible INFO| failed: [localhost] (item=mysql-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/mysql-service.yml"], "delta": "0:00:00.112515", "end": "2025-03-10 08:32:26.014185", "item": "mysql-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:32:25.901670", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/mysql-service.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/mysql-service.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:32:26,059 p=8854 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 08:32:26,061 p=8854 u=ubuntu n=ansible INFO| localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 08:32:40,661 p=9206 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:32:40,774 p=9206 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes Services] ***************************************************************************************************************************
2025-03-10 08:32:40,792 p=9206 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 08:32:42,256 p=9206 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:32:42,264 p=9206 u=ubuntu n=ansible INFO| TASK [Create Services for applications] ********************************************************************************************************************
2025-03-10 08:32:42,957 p=9206 u=ubuntu n=ansible INFO| failed: [localhost] (item=grafana-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/grafana-service.yml"], "delta": "0:00:00.141106", "end": "2025-03-10 08:32:42.894261", "item": "grafana-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:32:42.753155", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/grafana-service.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/grafana-service.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:32:43,370 p=9206 u=ubuntu n=ansible INFO| failed: [localhost] (item=prometheus-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/prometheus-service.yml"], "delta": "0:00:00.116155", "end": "2025-03-10 08:32:43.339671", "item": "prometheus-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:32:43.223516", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/prometheus-service.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/prometheus-service.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:32:43,811 p=9206 u=ubuntu n=ansible INFO| failed: [localhost] (item=jmeter-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/jmeter-service.yml"], "delta": "0:00:00.122967", "end": "2025-03-10 08:32:43.777434", "item": "jmeter-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:32:43.654467", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/jmeter-service.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/jmeter-service.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:32:44,252 p=9206 u=ubuntu n=ansible INFO| failed: [localhost] (item=mysql-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/mysql-service.yml"], "delta": "0:00:00.126639", "end": "2025-03-10 08:32:44.219300", "item": "mysql-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:32:44.092661", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/mysql-service.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/roles/eks_service/tasks/k8s-manifests/mysql-service.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:32:44,256 p=9206 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 08:32:44,257 p=9206 u=ubuntu n=ansible INFO| localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 08:34:43,315 p=9548 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:34:43,412 p=9548 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes Services] ***************************************************************************************************************************
2025-03-10 08:34:43,419 p=9548 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 08:34:44,816 p=9548 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:34:44,824 p=9548 u=ubuntu n=ansible INFO| TASK [Create Services for applications] ********************************************************************************************************************
2025-03-10 08:34:45,432 p=9548 u=ubuntu n=ansible INFO| failed: [localhost] (item=grafana-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-service.yml"], "delta": "0:00:00.117179", "end": "2025-03-10 08:34:45.404079", "item": "grafana-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:34:45.286900", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-service.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-service.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:34:45,821 p=9548 u=ubuntu n=ansible INFO| failed: [localhost] (item=prometheus-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/prometheus-service.yml"], "delta": "0:00:00.120165", "end": "2025-03-10 08:34:45.787437", "item": "prometheus-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:34:45.667272", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/prometheus-service.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/prometheus-service.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:34:46,216 p=9548 u=ubuntu n=ansible INFO| failed: [localhost] (item=jmeter-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-service.yml"], "delta": "0:00:00.119210", "end": "2025-03-10 08:34:46.184195", "item": "jmeter-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:34:46.064985", "stderr": "error: the path \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-service.yml\" does not exist", "stderr_lines": ["error: the path \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-service.yml\" does not exist"], "stdout": "", "stdout_lines": []}
2025-03-10 08:34:47,929 p=9548 u=ubuntu n=ansible INFO| changed: [localhost] => (item=mysql-service.yml)
2025-03-10 08:34:47,932 p=9548 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 08:34:47,933 p=9548 u=ubuntu n=ansible INFO| localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 08:38:36,146 p=9947 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:38:36,254 p=9947 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes Services] ***************************************************************************************************************************
2025-03-10 08:38:36,263 p=9947 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 08:38:37,707 p=9947 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:38:37,714 p=9947 u=ubuntu n=ansible INFO| TASK [Create Services for applications] ********************************************************************************************************************
2025-03-10 08:38:39,952 p=9947 u=ubuntu n=ansible INFO| changed: [localhost] => (item=grafana-service.yml)
2025-03-10 08:38:41,559 p=9947 u=ubuntu n=ansible INFO| changed: [localhost] => (item=prometheus-service.yml)
2025-03-10 08:38:43,281 p=9947 u=ubuntu n=ansible INFO| failed: [localhost] (item=jmeter-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-service.yml"], "delta": "0:00:01.373304", "end": "2025-03-10 08:38:43.250182", "item": "jmeter-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:38:41.876878", "stderr": "The Service \"jmeter-service\" is invalid: \n* spec.ports[0].name: Required value\n* spec.ports[1].name: Required value", "stderr_lines": ["The Service \"jmeter-service\" is invalid: ", "* spec.ports[0].name: Required value", "* spec.ports[1].name: Required value"], "stdout": "", "stdout_lines": []}
2025-03-10 08:38:45,058 p=9947 u=ubuntu n=ansible INFO| changed: [localhost] => (item=mysql-service.yml)
2025-03-10 08:38:45,061 p=9947 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 08:38:45,062 p=9947 u=ubuntu n=ansible INFO| localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 08:39:35,807 p=10404 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:39:35,923 p=10404 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes Services] ***************************************************************************************************************************
2025-03-10 08:39:35,936 p=10404 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 08:39:37,451 p=10404 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:39:37,462 p=10404 u=ubuntu n=ansible INFO| TASK [Create Services for applications] ********************************************************************************************************************
2025-03-10 08:39:40,168 p=10404 u=ubuntu n=ansible INFO| changed: [localhost] => (item=grafana-service.yml)
2025-03-10 08:39:41,968 p=10404 u=ubuntu n=ansible INFO| changed: [localhost] => (item=prometheus-service.yml)
2025-03-10 08:39:43,604 p=10404 u=ubuntu n=ansible INFO| changed: [localhost] => (item=jmeter-service.yml)
2025-03-10 08:39:45,484 p=10404 u=ubuntu n=ansible INFO| changed: [localhost] => (item=mysql-service.yml)
2025-03-10 08:39:45,501 p=10404 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 08:39:45,506 p=10404 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-10 08:49:06,132 p=11095 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:49:06,166 p=11095 u=ubuntu n=ansible ERROR| ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_argocd/tasks/main.yml': line 1, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


- name: Deploy ArgoCD Namespace
  ^ here

2025-03-10 08:50:16,546 p=11138 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:50:16,588 p=11138 u=ubuntu n=ansible ERROR| ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_argocd/tasks/main.yml': line 1, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


- name: Deploy ArgoCD Namespace
  ^ here

2025-03-10 08:51:31,684 p=11170 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:51:31,742 p=11170 u=ubuntu n=ansible INFO| PLAY [Deploy ArgoCD Namespace] *****************************************************************************************************************************
2025-03-10 08:51:31,835 p=11170 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 08:51:33,372 p=11170 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:51:33,382 p=11170 u=ubuntu n=ansible INFO| TASK [Create infrastructure namespace for ArgoCD] **********************************************************************************************************
2025-03-10 08:51:35,999 p=11170 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:51:36,036 p=11170 u=ubuntu n=ansible INFO| TASK [Deploy ArgoCD components] ****************************************************************************************************************************
2025-03-10 08:51:38,588 p=11170 u=ubuntu n=ansible INFO| ok: [localhost] => (item=argocd-deployment.yml)
2025-03-10 08:51:40,784 p=11170 u=ubuntu n=ansible INFO| changed: [localhost] => (item=argocd-service.yml)
2025-03-10 08:51:42,756 p=11170 u=ubuntu n=ansible INFO| changed: [localhost] => (item=argocd-ingress.yml)
2025-03-10 08:51:42,760 p=11170 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 08:51:42,760 p=11170 u=ubuntu n=ansible INFO| localhost                  : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-10 08:52:36,130 p=11537 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:52:36,163 p=11537 u=ubuntu n=ansible ERROR| ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_daemonset/tasks/main.yml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

---
- name: Deploy DaemonSet (Node Exporter)
  ^ here

2025-03-10 08:53:33,991 p=11600 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:53:34,070 p=11600 u=ubuntu n=ansible INFO| PLAY [Deploy DaemonSet (Node Exporter)] ********************************************************************************************************************
2025-03-10 08:53:34,120 p=11600 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 08:53:35,443 p=11600 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:53:35,450 p=11600 u=ubuntu n=ansible INFO| TASK [Apply Node Exporter DaemonSet] ***********************************************************************************************************************
2025-03-10 08:53:37,941 p=11600 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-10 08:53:37,943 p=11600 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 08:53:37,943 p=11600 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-10 08:53:46,099 p=11795 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:53:46,166 p=11795 u=ubuntu n=ansible INFO| PLAY [Deploy DaemonSet (Node Exporter)] ********************************************************************************************************************
2025-03-10 08:53:46,207 p=11795 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 08:53:47,418 p=11795 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:53:47,424 p=11795 u=ubuntu n=ansible INFO| TASK [Apply Node Exporter DaemonSet] ***********************************************************************************************************************
2025-03-10 08:53:49,833 p=11795 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:53:49,836 p=11795 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 08:53:49,837 p=11795 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-10 08:54:13,496 p=12058 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:54:13,542 p=12058 u=ubuntu n=ansible ERROR| ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_deployment/tasks/main.yml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

#Deployment 
- name: Deploy applications (Frontend, Backend, GPT Worker)
  ^ here

2025-03-10 08:57:33,543 p=12267 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:57:33,644 p=12267 u=ubuntu n=ansible INFO| PLAY [Deploy JMeter] ***************************************************************************************************************************************
2025-03-10 08:57:33,653 p=12267 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 08:57:35,019 p=12267 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:57:35,029 p=12267 u=ubuntu n=ansible INFO| TASK [Deploy JMeter Deployment] ****************************************************************************************************************************
2025-03-10 08:57:35,045 p=12267 u=ubuntu n=ansible INFO| fatal: [localhost]: FAILED! => {"msg": "The task includes an option with an undefined variable.. 'item' is undefined\n\nThe error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_deployment/tasks/main.yml': line 5, column 7, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n    - name: Deploy JMeter Deployment\n      ^ here\n"}
2025-03-10 08:57:35,047 p=12267 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 08:57:35,047 p=12267 u=ubuntu n=ansible INFO| localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 08:58:31,853 p=12428 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:58:31,967 p=12428 u=ubuntu n=ansible INFO| PLAY [Deploy JMeter] ***************************************************************************************************************************************
2025-03-10 08:58:31,976 p=12428 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 08:58:33,505 p=12428 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:58:33,513 p=12428 u=ubuntu n=ansible INFO| TASK [Deploy JMeter Deployment] ****************************************************************************************************************************
2025-03-10 08:58:34,052 p=12428 u=ubuntu n=ansible INFO| fatal: [localhost]: FAILED! => {"changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-deployment.yml"], "delta": "0:00:00.109058", "end": "2025-03-10 08:58:34.024942", "msg": "non-zero return code", "rc": 1, "start": "2025-03-10 08:58:33.915884", "stderr": "error: error parsing /home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-deployment.yml: error converting YAML to JSON: yaml: line 17: mapping values are not allowed in this context", "stderr_lines": ["error: error parsing /home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-deployment.yml: error converting YAML to JSON: yaml: line 17: mapping values are not allowed in this context"], "stdout": "", "stdout_lines": []}
2025-03-10 08:58:34,053 p=12428 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 08:58:34,054 p=12428 u=ubuntu n=ansible INFO| localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-10 08:59:34,522 p=12622 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 08:59:34,633 p=12622 u=ubuntu n=ansible INFO| PLAY [Deploy JMeter] ***************************************************************************************************************************************
2025-03-10 08:59:34,644 p=12622 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 08:59:35,968 p=12622 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 08:59:35,976 p=12622 u=ubuntu n=ansible INFO| TASK [Deploy JMeter Deployment] ****************************************************************************************************************************
2025-03-10 08:59:38,214 p=12622 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-10 08:59:38,216 p=12622 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 08:59:38,216 p=12622 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-10 09:03:41,665 p=12885 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 09:03:41,778 p=12885 u=ubuntu n=ansible INFO| PLAY [Deploy StatefulSets (Grafana, Prometheus, MySQL)] ******************************************************************************************************************************************************
2025-03-10 09:03:41,788 p=12885 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ***************************************************************************************************************************************************************************************
2025-03-10 09:03:43,365 p=12885 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 09:03:43,374 p=12885 u=ubuntu n=ansible INFO| TASK [Deploy Grafana StatefulSet] ****************************************************************************************************************************************************************************
2025-03-10 09:03:45,282 p=12885 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-10 09:03:45,318 p=12885 u=ubuntu n=ansible INFO| TASK [Deploy Prometheus StatefulSet] *************************************************************************************************************************************************************************
2025-03-10 09:03:47,418 p=12885 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-10 09:03:47,425 p=12885 u=ubuntu n=ansible INFO| TASK [Deploy MySQL StatefulSet] ******************************************************************************************************************************************************************************
2025-03-10 09:03:48,946 p=12885 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-10 09:03:48,947 p=12885 u=ubuntu n=ansible INFO| PLAY RECAP ***************************************************************************************************************************************************************************************************
2025-03-10 09:03:48,947 p=12885 u=ubuntu n=ansible INFO| localhost                  : ok=4    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-10 09:03:51,282 p=13250 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 09:03:51,398 p=13250 u=ubuntu n=ansible INFO| PLAY [Deploy StatefulSets (Grafana, Prometheus, MySQL)] ****************************************************************************************************
2025-03-10 09:03:51,409 p=13250 u=ubuntu n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************************************
2025-03-10 09:03:52,872 p=13250 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-10 09:03:52,882 p=13250 u=ubuntu n=ansible INFO| TASK [Deploy Grafana StatefulSet] **************************************************************************************************************************
2025-03-10 09:03:55,055 p=13250 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-10 09:03:55,086 p=13250 u=ubuntu n=ansible INFO| TASK [Deploy Prometheus StatefulSet] ***********************************************************************************************************************
2025-03-10 09:03:56,862 p=13250 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-10 09:03:56,869 p=13250 u=ubuntu n=ansible INFO| TASK [Deploy MySQL StatefulSet] ****************************************************************************************************************************
2025-03-10 09:03:58,585 p=13250 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-10 09:03:58,587 p=13250 u=ubuntu n=ansible INFO| PLAY RECAP *************************************************************************************************************************************************
2025-03-10 09:03:58,587 p=13250 u=ubuntu n=ansible INFO| localhost                  : ok=4    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-10 09:05:55,009 p=13646 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-10 09:05:55,049 p=13646 u=ubuntu n=ansible ERROR| ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_ingress/tasks/main.yml': line 3, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

#ingress.yml  Route53   Ingress 
- name: Create Ingress for application
  ^ here

2025-03-11 00:59:40,261 p=18391 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-11 00:59:40,429 p=18391 u=ubuntu n=ansible | PLAY [Create Kubernetes namespaces] ****************************************************************************************
2025-03-11 00:59:40,460 p=18391 u=ubuntu n=ansible | TASK [Gathering Facts] *****************************************************************************************************
2025-03-11 00:59:41,687 p=18391 u=ubuntu n=ansible | ok: [localhost]
2025-03-11 00:59:41,706 p=18391 u=ubuntu n=ansible | TASK [Ensure namespaces exist] *********************************************************************************************
2025-03-11 00:59:44,434 p=18391 u=ubuntu n=ansible | changed: [localhost] => (item=infrastructure)
2025-03-11 00:59:46,760 p=18391 u=ubuntu n=ansible | changed: [localhost] => (item=monitoring)
2025-03-11 00:59:48,816 p=18391 u=ubuntu n=ansible | changed: [localhost] => (item=database)
2025-03-11 00:59:48,839 p=18391 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************
2025-03-11 00:59:48,839 p=18391 u=ubuntu n=ansible | localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 00:59:49,449 p=18688 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-11 00:59:49,658 p=18688 u=ubuntu n=ansible | PLAY [Apply Kubernetes PVC manifests] **************************************************************************************
2025-03-11 00:59:49,675 p=18688 u=ubuntu n=ansible | TASK [Gathering Facts] *****************************************************************************************************
2025-03-11 00:59:50,843 p=18688 u=ubuntu n=ansible | ok: [localhost]
2025-03-11 00:59:50,860 p=18688 u=ubuntu n=ansible | TASK [Apply PVC for required components] ***********************************************************************************
2025-03-11 00:59:52,549 p=18688 u=ubuntu n=ansible | changed: [localhost] => (item=mysql-pvc.yml)
2025-03-11 00:59:54,063 p=18688 u=ubuntu n=ansible | changed: [localhost] => (item=prometheus-pvc.yml)
2025-03-11 00:59:56,065 p=18688 u=ubuntu n=ansible | changed: [localhost] => (item=grafana-pvc.yml)
2025-03-11 00:59:56,089 p=18688 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************
2025-03-11 00:59:56,089 p=18688 u=ubuntu n=ansible | localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 00:59:56,868 p=19030 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-11 00:59:57,069 p=19030 u=ubuntu n=ansible | PLAY [Apply Kubernetes Services] *******************************************************************************************
2025-03-11 00:59:57,077 p=19030 u=ubuntu n=ansible | TASK [Gathering Facts] *****************************************************************************************************
2025-03-11 00:59:58,319 p=19030 u=ubuntu n=ansible | ok: [localhost]
2025-03-11 00:59:58,335 p=19030 u=ubuntu n=ansible | TASK [Create Services for applications] ************************************************************************************
2025-03-11 01:00:00,376 p=19030 u=ubuntu n=ansible | changed: [localhost] => (item=grafana-service.yml)
2025-03-11 01:00:03,829 p=19030 u=ubuntu n=ansible | changed: [localhost] => (item=prometheus-service.yml)
2025-03-11 01:00:06,188 p=19030 u=ubuntu n=ansible | changed: [localhost] => (item=jmeter-service.yml)
2025-03-11 01:00:08,215 p=19030 u=ubuntu n=ansible | changed: [localhost] => (item=mysql-service.yml)
2025-03-11 01:00:08,241 p=19030 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************
2025-03-11 01:00:08,242 p=19030 u=ubuntu n=ansible | localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 01:00:09,061 p=19500 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-11 01:00:09,319 p=19500 u=ubuntu n=ansible | PLAY [Deploy ArgoCD Namespace] *********************************************************************************************
2025-03-11 01:00:09,369 p=19500 u=ubuntu n=ansible | TASK [Gathering Facts] *****************************************************************************************************
2025-03-11 01:00:10,864 p=19500 u=ubuntu n=ansible | ok: [localhost]
2025-03-11 01:00:10,882 p=19500 u=ubuntu n=ansible | TASK [Create infrastructure namespace for ArgoCD] **************************************************************************
2025-03-11 01:00:13,781 p=19500 u=ubuntu n=ansible | ok: [localhost]
2025-03-11 01:00:13,788 p=19500 u=ubuntu n=ansible | TASK [Deploy ArgoCD components] ********************************************************************************************
2025-03-11 01:00:16,447 p=19500 u=ubuntu n=ansible | changed: [localhost] => (item=argocd-deployment.yml)
2025-03-11 01:00:18,845 p=19500 u=ubuntu n=ansible | changed: [localhost] => (item=argocd-service.yml)
2025-03-11 01:00:21,334 p=19500 u=ubuntu n=ansible | changed: [localhost] => (item=argocd-ingress.yml)
2025-03-11 01:00:21,362 p=19500 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************
2025-03-11 01:00:21,362 p=19500 u=ubuntu n=ansible | localhost                  : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 01:00:22,024 p=19833 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-11 01:00:22,212 p=19833 u=ubuntu n=ansible | PLAY [Deploy DaemonSet (Node Exporter)] ************************************************************************************
2025-03-11 01:00:22,246 p=19833 u=ubuntu n=ansible | TASK [Gathering Facts] *****************************************************************************************************
2025-03-11 01:00:23,676 p=19833 u=ubuntu n=ansible | ok: [localhost]
2025-03-11 01:00:23,694 p=19833 u=ubuntu n=ansible | TASK [Apply Node Exporter DaemonSet] ***************************************************************************************
2025-03-11 01:00:26,083 p=19833 u=ubuntu n=ansible | changed: [localhost]
2025-03-11 01:00:26,106 p=19833 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************
2025-03-11 01:00:26,106 p=19833 u=ubuntu n=ansible | localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 01:00:26,828 p=20003 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-11 01:00:27,062 p=20003 u=ubuntu n=ansible | PLAY [Deploy JMeter] *******************************************************************************************************
2025-03-11 01:00:27,071 p=20003 u=ubuntu n=ansible | TASK [Gathering Facts] *****************************************************************************************************
2025-03-11 01:00:28,371 p=20003 u=ubuntu n=ansible | ok: [localhost]
2025-03-11 01:00:28,393 p=20003 u=ubuntu n=ansible | TASK [Deploy JMeter Deployment] ********************************************************************************************
2025-03-11 01:00:30,497 p=20003 u=ubuntu n=ansible | changed: [localhost]
2025-03-11 01:00:30,518 p=20003 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************
2025-03-11 01:00:30,518 p=20003 u=ubuntu n=ansible | localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 01:00:31,157 p=20200 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-11 01:00:31,372 p=20200 u=ubuntu n=ansible | PLAY [Deploy JMeter] *******************************************************************************************************
2025-03-11 01:00:31,381 p=20200 u=ubuntu n=ansible | TASK [Gathering Facts] *****************************************************************************************************
2025-03-11 01:00:32,668 p=20200 u=ubuntu n=ansible | ok: [localhost]
2025-03-11 01:00:32,685 p=20200 u=ubuntu n=ansible | TASK [Deploy JMeter Deployment] ********************************************************************************************
2025-03-11 01:00:34,928 p=20200 u=ubuntu n=ansible | changed: [localhost]
2025-03-11 01:00:34,953 p=20200 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************
2025-03-11 01:00:34,953 p=20200 u=ubuntu n=ansible | localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 02:02:36,892 p=23715 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-11 02:02:37,064 p=23715 u=ubuntu n=ansible | PLAY [Deploy ArgoCD Namespace] *********************************************************************************************
2025-03-11 02:02:37,099 p=23715 u=ubuntu n=ansible | TASK [Gathering Facts] *****************************************************************************************************
2025-03-11 02:02:38,604 p=23715 u=ubuntu n=ansible | ok: [localhost]
2025-03-11 02:02:38,627 p=23715 u=ubuntu n=ansible | TASK [Create infrastructure namespace for ArgoCD] **************************************************************************
2025-03-11 02:02:41,518 p=23715 u=ubuntu n=ansible | ok: [localhost]
2025-03-11 02:02:41,530 p=23715 u=ubuntu n=ansible | TASK [Deploy ArgoCD components] ********************************************************************************************
2025-03-11 02:02:43,838 p=23715 u=ubuntu n=ansible | ok: [localhost] => (item=argocd-deployment.yml)
2025-03-11 02:02:46,239 p=23715 u=ubuntu n=ansible | ok: [localhost] => (item=argocd-service.yml)
2025-03-11 02:02:48,764 p=23715 u=ubuntu n=ansible | ok: [localhost] => (item=argocd-ingress.yml)
2025-03-11 02:02:51,294 p=23715 u=ubuntu n=ansible | changed: [localhost] => (item=argocd-configmap.yml)
2025-03-11 02:02:53,540 p=23715 u=ubuntu n=ansible | ok: [localhost] => (item=argocd-secret.yml)
2025-03-11 02:02:53,567 p=23715 u=ubuntu n=ansible | PLAY RECAP *****************************************************************************************************************
2025-03-11 02:02:53,568 p=23715 u=ubuntu n=ansible | localhost                  : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 02:05:16,503 p=24386 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-11 02:05:16,658 p=24386 u=ubuntu n=ansible | ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_ingress/tasks/main.yml': line 3, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

#ingress.yml  Route53   Ingress 
- name: Create Ingress for application
  ^ here

2025-03-11 02:07:56,545 p=24504 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-11 02:07:56,743 p=24504 u=ubuntu n=ansible | ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_ingress/tasks/main.yml': line 3, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

#ingress.yml  Route53   Ingress 
- name: Create Ingress for application
  ^ here

2025-03-11 02:40:34,232 p=24969 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-11 02:40:34,374 p=24969 u=ubuntu n=ansible | ERROR! 'kubernetes.core.k8s' is not a valid attribute for a Play

The error appears to be in '/home/ubuntu/ansible-eks-deploy/roles/eks_ingress/tasks/main.yml': line 1, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


- name: Create Ingress for application
  ^ here

2025-03-11 02:42:12,834 p=25115 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-11 02:42:13,005 p=25115 u=ubuntu n=ansible | PLAY [Apply Kubernetes Ingress resources] ***********************************************
2025-03-11 02:42:13,035 p=25115 u=ubuntu n=ansible | TASK [Gathering Facts] ******************************************************************
2025-03-11 02:42:15,475 p=25115 u=ubuntu n=ansible | ok: [localhost]
2025-03-11 02:42:15,500 p=25115 u=ubuntu n=ansible | TASK [Create Ingress for applications] **************************************************
2025-03-11 02:42:18,417 p=25115 u=ubuntu n=ansible | ok: [localhost] => (item=argocd-ingress.yml)
2025-03-11 02:42:20,949 p=25115 u=ubuntu n=ansible | ok: [localhost] => (item=grafana-ingress.yml)
2025-03-11 02:42:20,978 p=25115 u=ubuntu n=ansible | PLAY RECAP ******************************************************************************
2025-03-11 02:42:20,978 p=25115 u=ubuntu n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 07:15:38,083 p=34309 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-11 07:15:38,252 p=34309 u=ubuntu n=ansible | PLAY [Create Kubernetes namespaces] *********************************************************************
2025-03-11 07:15:38,285 p=34309 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************
2025-03-11 07:15:39,512 p=34309 u=ubuntu n=ansible | ok: [localhost]
2025-03-11 07:15:39,530 p=34309 u=ubuntu n=ansible | TASK [Ensure namespaces exist] **************************************************************************
2025-03-11 07:15:41,940 p=34309 u=ubuntu n=ansible | ok: [localhost] => (item=infrastructure)
2025-03-11 07:15:44,292 p=34309 u=ubuntu n=ansible | ok: [localhost] => (item=monitoring)
2025-03-11 07:15:46,490 p=34309 u=ubuntu n=ansible | ok: [localhost] => (item=database)
2025-03-11 07:15:46,517 p=34309 u=ubuntu n=ansible | PLAY RECAP **********************************************************************************************
2025-03-11 07:15:46,518 p=34309 u=ubuntu n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 11:17:53,390 p=38774 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-11 11:17:53,594 p=38774 u=ubuntu n=ansible | PLAY [Create Kubernetes namespaces] *********************************************
2025-03-11 11:17:53,625 p=38774 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************
2025-03-11 11:17:54,974 p=38774 u=ubuntu n=ansible | ok: [localhost]
2025-03-11 11:17:54,996 p=38774 u=ubuntu n=ansible | TASK [Ensure namespaces exist] **************************************************
2025-03-11 11:17:57,644 p=38774 u=ubuntu n=ansible | ok: [localhost] => (item=infrastructure)
2025-03-11 11:18:00,161 p=38774 u=ubuntu n=ansible | ok: [localhost] => (item=monitoring)
2025-03-11 11:18:03,898 p=38774 u=ubuntu n=ansible | ok: [localhost] => (item=database)
2025-03-11 11:18:03,944 p=38774 u=ubuntu n=ansible | PLAY RECAP **********************************************************************
2025-03-11 11:18:03,944 p=38774 u=ubuntu n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 12:07:53,267 p=42098 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-11 12:07:53,326 p=42098 u=ubuntu n=ansible INFO| PLAY [Create Kubernetes namespaces] **********************************************************************************************
2025-03-11 12:07:53,380 p=42098 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ***********************************************************************************************************
2025-03-11 12:07:54,851 p=42098 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:07:54,862 p=42098 u=ubuntu n=ansible INFO| TASK [Ensure namespaces exist] ***************************************************************************************************
2025-03-11 12:07:57,425 p=42098 u=ubuntu n=ansible INFO| ok: [localhost] => (item=infrastructure)
2025-03-11 12:07:59,761 p=42098 u=ubuntu n=ansible INFO| ok: [localhost] => (item=monitoring)
2025-03-11 12:08:02,490 p=42098 u=ubuntu n=ansible INFO| ok: [localhost] => (item=database)
2025-03-11 12:08:02,533 p=42098 u=ubuntu n=ansible INFO| PLAY RECAP ***********************************************************************************************************************
2025-03-11 12:08:02,533 p=42098 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 12:08:13,132 p=42435 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-11 12:08:13,189 p=42435 u=ubuntu n=ansible INFO| PLAY [Create Kubernetes namespaces] **********************************************************************************************
2025-03-11 12:08:13,240 p=42435 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ***********************************************************************************************************
2025-03-11 12:08:14,640 p=42435 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:08:14,650 p=42435 u=ubuntu n=ansible INFO| TASK [Ensure namespaces exist] ***************************************************************************************************
2025-03-11 12:08:17,227 p=42435 u=ubuntu n=ansible INFO| ok: [localhost] => (item=infrastructure)
2025-03-11 12:08:19,806 p=42435 u=ubuntu n=ansible INFO| ok: [localhost] => (item=monitoring)
2025-03-11 12:08:22,224 p=42435 u=ubuntu n=ansible INFO| ok: [localhost] => (item=database)
2025-03-11 12:08:22,264 p=42435 u=ubuntu n=ansible INFO| PLAY RECAP ***********************************************************************************************************************
2025-03-11 12:08:22,264 p=42435 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 12:08:23,059 p=42721 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-11 12:08:23,181 p=42721 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes PVC manifests] ********************************************************************************************
2025-03-11 12:08:23,193 p=42721 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ***********************************************************************************************************
2025-03-11 12:08:24,896 p=42721 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:08:24,905 p=42721 u=ubuntu n=ansible INFO| TASK [Apply PVC for required components] *****************************************************************************************
2025-03-11 12:08:26,833 p=42721 u=ubuntu n=ansible INFO| changed: [localhost] => (item=mysql-pvc.yml)
2025-03-11 12:08:28,618 p=42721 u=ubuntu n=ansible INFO| changed: [localhost] => (item=prometheus-pvc.yml)
2025-03-11 12:08:30,589 p=42721 u=ubuntu n=ansible INFO| changed: [localhost] => (item=grafana-pvc.yml)
2025-03-11 12:08:30,592 p=42721 u=ubuntu n=ansible INFO| PLAY RECAP ***********************************************************************************************************************
2025-03-11 12:08:30,593 p=42721 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 12:08:31,260 p=43082 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-11 12:08:31,385 p=43082 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes Services] *************************************************************************************************
2025-03-11 12:08:31,406 p=43082 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ***********************************************************************************************************
2025-03-11 12:08:33,021 p=43082 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:08:33,040 p=43082 u=ubuntu n=ansible INFO| TASK [Create Services for applications] ******************************************************************************************
2025-03-11 12:08:35,028 p=43082 u=ubuntu n=ansible INFO| changed: [localhost] => (item=grafana-service.yml)
2025-03-11 12:08:37,100 p=43082 u=ubuntu n=ansible INFO| changed: [localhost] => (item=prometheus-service.yml)
2025-03-11 12:08:39,130 p=43082 u=ubuntu n=ansible INFO| changed: [localhost] => (item=jmeter-service.yml)
2025-03-11 12:08:41,893 p=43082 u=ubuntu n=ansible INFO| changed: [localhost] => (item=mysql-service.yml)
2025-03-11 12:08:41,896 p=43082 u=ubuntu n=ansible INFO| PLAY RECAP ***********************************************************************************************************************
2025-03-11 12:08:41,896 p=43082 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 12:08:42,575 p=43545 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-11 12:08:42,633 p=43545 u=ubuntu n=ansible INFO| PLAY [Deploy ArgoCD Namespace] ***************************************************************************************************
2025-03-11 12:08:42,679 p=43545 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ***********************************************************************************************************
2025-03-11 12:08:44,454 p=43545 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:08:44,462 p=43545 u=ubuntu n=ansible INFO| TASK [Create infrastructure namespace for ArgoCD] ********************************************************************************
2025-03-11 12:08:47,124 p=43545 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:08:47,160 p=43545 u=ubuntu n=ansible INFO| TASK [Deploy ArgoCD components] **************************************************************************************************
2025-03-11 12:08:49,488 p=43545 u=ubuntu n=ansible INFO| ok: [localhost] => (item=argocd-deployment.yml)
2025-03-11 12:08:51,813 p=43545 u=ubuntu n=ansible INFO| ok: [localhost] => (item=argocd-service.yml)
2025-03-11 12:08:54,503 p=43545 u=ubuntu n=ansible INFO| failed: [localhost] (item=argocd-ingress.yml) => {"ansible_loop_var": "item", "changed": false, "item": "argocd-ingress.yml", "msg": "Failed to patch object: b'{\"kind\":\"Status\",\"apiVersion\":\"v1\",\"metadata\":{},\"status\":\"Failure\",\"message\":\"Internal error occurred: failed calling webhook \\\\\"vingress.elbv2.k8s.aws\\\\\": failed to call webhook: Post \\\\\"https://aws-load-balancer-webhook-service.kube-system.svc:443/validate-networking-v1-ingress?timeout=10s\\\\\": no endpoints available for service \\\\\"aws-load-balancer-webhook-service\\\\\"\",\"reason\":\"InternalError\",\"details\":{\"causes\":[{\"message\":\"failed calling webhook \\\\\"vingress.elbv2.k8s.aws\\\\\": failed to call webhook: Post \\\\\"https://aws-load-balancer-webhook-service.kube-system.svc:443/validate-networking-v1-ingress?timeout=10s\\\\\": no endpoints available for service \\\\\"aws-load-balancer-webhook-service\\\\\"\"}]},\"code\":500}\\n'", "reason": "Internal Server Error"}
2025-03-11 12:08:56,823 p=43545 u=ubuntu n=ansible INFO| ok: [localhost] => (item=argocd-configmap.yml)
2025-03-11 12:08:59,082 p=43545 u=ubuntu n=ansible INFO| ok: [localhost] => (item=argocd-secret.yml)
2025-03-11 12:08:59,088 p=43545 u=ubuntu n=ansible INFO| PLAY RECAP ***********************************************************************************************************************
2025-03-11 12:08:59,088 p=43545 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-11 12:08:59,693 p=43991 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-11 12:08:59,788 p=43991 u=ubuntu n=ansible INFO| PLAY [Deploy DaemonSet (Node Exporter)] ******************************************************************************************
2025-03-11 12:08:59,843 p=43991 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ***********************************************************************************************************
2025-03-11 12:09:01,277 p=43991 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:09:01,287 p=43991 u=ubuntu n=ansible INFO| TASK [Apply Node Exporter DaemonSet] *********************************************************************************************
2025-03-11 12:09:04,476 p=43991 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:09:04,477 p=43991 u=ubuntu n=ansible INFO| PLAY RECAP ***********************************************************************************************************************
2025-03-11 12:09:04,477 p=43991 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 12:09:05,249 p=44161 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-11 12:09:05,385 p=44161 u=ubuntu n=ansible INFO| PLAY [Deploy JMeter] *************************************************************************************************************
2025-03-11 12:09:05,393 p=44161 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ***********************************************************************************************************
2025-03-11 12:09:06,840 p=44161 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:09:06,848 p=44161 u=ubuntu n=ansible INFO| TASK [Deploy JMeter Deployment] **************************************************************************************************
2025-03-11 12:09:09,320 p=44161 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-11 12:09:09,321 p=44161 u=ubuntu n=ansible INFO| PLAY RECAP ***********************************************************************************************************************
2025-03-11 12:09:09,322 p=44161 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 12:09:10,054 p=44357 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-11 12:09:10,139 p=44357 u=ubuntu n=ansible INFO| PLAY [Deploy JMeter] *************************************************************************************************************
2025-03-11 12:09:10,148 p=44357 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ***********************************************************************************************************
2025-03-11 12:09:11,574 p=44357 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:09:11,583 p=44357 u=ubuntu n=ansible INFO| TASK [Deploy JMeter Deployment] **************************************************************************************************
2025-03-11 12:09:13,871 p=44357 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-11 12:09:13,872 p=44357 u=ubuntu n=ansible INFO| PLAY RECAP ***********************************************************************************************************************
2025-03-11 12:09:13,873 p=44357 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 12:25:54,914 p=44699 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-11 12:25:54,967 p=44699 u=ubuntu n=ansible INFO| PLAY [Create Kubernetes namespaces] **********************************************************************************************
2025-03-11 12:25:55,010 p=44699 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ***********************************************************************************************************
2025-03-11 12:25:56,481 p=44699 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:25:56,492 p=44699 u=ubuntu n=ansible INFO| TASK [Ensure namespaces exist] ***************************************************************************************************
2025-03-11 12:25:59,058 p=44699 u=ubuntu n=ansible INFO| ok: [localhost] => (item=infrastructure)
2025-03-11 12:26:01,843 p=44699 u=ubuntu n=ansible INFO| ok: [localhost] => (item=monitoring)
2025-03-11 12:26:04,803 p=44699 u=ubuntu n=ansible INFO| ok: [localhost] => (item=database)
2025-03-11 12:26:04,833 p=44699 u=ubuntu n=ansible INFO| PLAY RECAP ***********************************************************************************************************************
2025-03-11 12:26:04,833 p=44699 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 12:26:05,451 p=45000 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-11 12:26:05,544 p=45000 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes PVC manifests] ********************************************************************************************
2025-03-11 12:26:05,552 p=45000 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ***********************************************************************************************************
2025-03-11 12:26:06,866 p=45000 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:26:06,885 p=45000 u=ubuntu n=ansible INFO| TASK [Apply PVC for required components] *****************************************************************************************
2025-03-11 12:26:08,842 p=45000 u=ubuntu n=ansible INFO| changed: [localhost] => (item=mysql-pvc.yml)
2025-03-11 12:26:10,763 p=45000 u=ubuntu n=ansible INFO| changed: [localhost] => (item=prometheus-pvc.yml)
2025-03-11 12:26:12,788 p=45000 u=ubuntu n=ansible INFO| changed: [localhost] => (item=grafana-pvc.yml)
2025-03-11 12:26:12,791 p=45000 u=ubuntu n=ansible INFO| PLAY RECAP ***********************************************************************************************************************
2025-03-11 12:26:12,791 p=45000 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 12:26:13,475 p=45348 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-11 12:26:13,576 p=45348 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes Services] *************************************************************************************************
2025-03-11 12:26:13,584 p=45348 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ***********************************************************************************************************
2025-03-11 12:26:15,154 p=45348 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:26:15,162 p=45348 u=ubuntu n=ansible INFO| TASK [Create Services for applications] ******************************************************************************************
2025-03-11 12:26:17,166 p=45348 u=ubuntu n=ansible INFO| changed: [localhost] => (item=grafana-service.yml)
2025-03-11 12:26:18,968 p=45348 u=ubuntu n=ansible INFO| changed: [localhost] => (item=prometheus-service.yml)
2025-03-11 12:26:20,625 p=45348 u=ubuntu n=ansible INFO| changed: [localhost] => (item=jmeter-service.yml)
2025-03-11 12:26:22,625 p=45348 u=ubuntu n=ansible INFO| changed: [localhost] => (item=mysql-service.yml)
2025-03-11 12:26:22,628 p=45348 u=ubuntu n=ansible INFO| PLAY RECAP ***********************************************************************************************************************
2025-03-11 12:26:22,628 p=45348 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 12:26:23,311 p=45789 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-11 12:26:23,374 p=45789 u=ubuntu n=ansible INFO| PLAY [Deploy ArgoCD Namespace] ***************************************************************************************************
2025-03-11 12:26:23,432 p=45789 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ***********************************************************************************************************
2025-03-11 12:26:24,943 p=45789 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:26:24,972 p=45789 u=ubuntu n=ansible INFO| TASK [Create infrastructure namespace for ArgoCD] ********************************************************************************
2025-03-11 12:26:27,431 p=45789 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:26:27,474 p=45789 u=ubuntu n=ansible INFO| TASK [Deploy ArgoCD components] **************************************************************************************************
2025-03-11 12:26:29,930 p=45789 u=ubuntu n=ansible INFO| ok: [localhost] => (item=argocd-deployment.yml)
2025-03-11 12:26:32,283 p=45789 u=ubuntu n=ansible INFO| ok: [localhost] => (item=argocd-service.yml)
2025-03-11 12:26:34,981 p=45789 u=ubuntu n=ansible INFO| failed: [localhost] (item=argocd-ingress.yml) => {"ansible_loop_var": "item", "changed": false, "item": "argocd-ingress.yml", "msg": "Failed to patch object: b'{\"kind\":\"Status\",\"apiVersion\":\"v1\",\"metadata\":{},\"status\":\"Failure\",\"message\":\"Internal error occurred: failed calling webhook \\\\\"vingress.elbv2.k8s.aws\\\\\": failed to call webhook: Post \\\\\"https://aws-load-balancer-webhook-service.kube-system.svc:443/validate-networking-v1-ingress?timeout=10s\\\\\": no endpoints available for service \\\\\"aws-load-balancer-webhook-service\\\\\"\",\"reason\":\"InternalError\",\"details\":{\"causes\":[{\"message\":\"failed calling webhook \\\\\"vingress.elbv2.k8s.aws\\\\\": failed to call webhook: Post \\\\\"https://aws-load-balancer-webhook-service.kube-system.svc:443/validate-networking-v1-ingress?timeout=10s\\\\\": no endpoints available for service \\\\\"aws-load-balancer-webhook-service\\\\\"\"}]},\"code\":500}\\n'", "reason": "Internal Server Error"}
2025-03-11 12:26:37,338 p=45789 u=ubuntu n=ansible INFO| ok: [localhost] => (item=argocd-configmap.yml)
2025-03-11 12:26:39,294 p=45789 u=ubuntu n=ansible INFO| ok: [localhost] => (item=argocd-secret.yml)
2025-03-11 12:26:39,299 p=45789 u=ubuntu n=ansible INFO| PLAY RECAP ***********************************************************************************************************************
2025-03-11 12:26:39,300 p=45789 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-11 12:26:39,865 p=46248 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-11 12:26:39,914 p=46248 u=ubuntu n=ansible INFO| PLAY [Deploy DaemonSet (Node Exporter)] ******************************************************************************************
2025-03-11 12:26:39,952 p=46248 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ***********************************************************************************************************
2025-03-11 12:26:41,346 p=46248 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:26:41,361 p=46248 u=ubuntu n=ansible INFO| TASK [Apply Node Exporter DaemonSet] *********************************************************************************************
2025-03-11 12:26:43,996 p=46248 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:26:43,998 p=46248 u=ubuntu n=ansible INFO| PLAY RECAP ***********************************************************************************************************************
2025-03-11 12:26:43,998 p=46248 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 12:26:44,770 p=46428 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-11 12:26:44,910 p=46428 u=ubuntu n=ansible INFO| PLAY [Deploy JMeter] *************************************************************************************************************
2025-03-11 12:26:44,923 p=46428 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ***********************************************************************************************************
2025-03-11 12:26:46,520 p=46428 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:26:46,532 p=46428 u=ubuntu n=ansible INFO| TASK [Deploy JMeter Deployment] **************************************************************************************************
2025-03-11 12:26:48,882 p=46428 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-11 12:26:48,884 p=46428 u=ubuntu n=ansible INFO| PLAY RECAP ***********************************************************************************************************************
2025-03-11 12:26:48,884 p=46428 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-11 12:26:49,644 p=46636 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-11 12:26:49,787 p=46636 u=ubuntu n=ansible INFO| PLAY [Deploy JMeter] *************************************************************************************************************
2025-03-11 12:26:49,796 p=46636 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ***********************************************************************************************************
2025-03-11 12:26:51,039 p=46636 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-11 12:26:51,047 p=46636 u=ubuntu n=ansible INFO| TASK [Deploy JMeter Deployment] **************************************************************************************************
2025-03-11 12:26:53,036 p=46636 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-11 12:26:53,038 p=46636 u=ubuntu n=ansible INFO| PLAY RECAP ***********************************************************************************************************************
2025-03-11 12:26:53,038 p=46636 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-12 00:37:46,828 p=68894 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:37:46,887 p=68894 u=ubuntu n=ansible INFO| PLAY [Create Kubernetes namespaces] *********************************************************************
2025-03-12 00:37:46,930 p=68894 u=ubuntu n=ansible INFO| TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:37:48,409 p=68894 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-12 00:37:48,419 p=68894 u=ubuntu n=ansible INFO| TASK [Ensure namespaces exist] **************************************************************************
2025-03-12 00:37:51,338 p=68894 u=ubuntu n=ansible INFO| changed: [localhost] => (item=infrastructure)
2025-03-12 00:37:53,592 p=68894 u=ubuntu n=ansible INFO| changed: [localhost] => (item=monitoring)
2025-03-12 00:37:55,941 p=68894 u=ubuntu n=ansible INFO| changed: [localhost] => (item=database)
2025-03-12 00:37:55,976 p=68894 u=ubuntu n=ansible INFO| PLAY RECAP **********************************************************************************************
2025-03-12 00:37:55,977 p=68894 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-12 00:37:56,664 p=69174 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:37:56,779 p=69174 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes PVC manifests] *******************************************************************
2025-03-12 00:37:56,789 p=69174 u=ubuntu n=ansible INFO| TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:37:58,083 p=69174 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-12 00:37:58,090 p=69174 u=ubuntu n=ansible INFO| TASK [Apply PVC for required components] ****************************************************************
2025-03-12 00:37:59,933 p=69174 u=ubuntu n=ansible INFO| changed: [localhost] => (item=mysql-pvc.yml)
2025-03-12 00:38:02,286 p=69174 u=ubuntu n=ansible INFO| changed: [localhost] => (item=prometheus-pvc.yml)
2025-03-12 00:38:04,255 p=69174 u=ubuntu n=ansible INFO| changed: [localhost] => (item=grafana-pvc.yml)
2025-03-12 00:38:04,257 p=69174 u=ubuntu n=ansible INFO| PLAY RECAP **********************************************************************************************
2025-03-12 00:38:04,258 p=69174 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-12 00:38:04,999 p=69541 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:38:05,116 p=69541 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes Services] ************************************************************************
2025-03-12 00:38:05,131 p=69541 u=ubuntu n=ansible INFO| TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:38:06,800 p=69541 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-12 00:38:06,810 p=69541 u=ubuntu n=ansible INFO| TASK [Create Services for applications] *****************************************************************
2025-03-12 00:38:08,803 p=69541 u=ubuntu n=ansible INFO| failed: [localhost] (item=grafana-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-service.yml"], "delta": "0:00:01.338321", "end": "2025-03-12 00:38:08.767061", "item": "grafana-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:38:07.428740", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "", "stdout_lines": []}
2025-03-12 00:38:10,763 p=69541 u=ubuntu n=ansible INFO| failed: [localhost] (item=prometheus-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/prometheus-service.yml"], "delta": "0:00:01.540073", "end": "2025-03-12 00:38:10.718159", "item": "prometheus-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:38:09.178086", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/prometheus-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/prometheus-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "", "stdout_lines": []}
2025-03-12 00:38:12,547 p=69541 u=ubuntu n=ansible INFO| failed: [localhost] (item=jmeter-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-service.yml"], "delta": "0:00:01.438866", "end": "2025-03-12 00:38:12.518397", "item": "jmeter-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:38:11.079531", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "", "stdout_lines": []}
2025-03-12 00:38:14,269 p=69541 u=ubuntu n=ansible INFO| failed: [localhost] (item=mysql-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/mysql-service.yml"], "delta": "0:00:01.454046", "end": "2025-03-12 00:38:14.240714", "item": "mysql-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:38:12.786668", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/mysql-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/mysql-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "", "stdout_lines": []}
2025-03-12 00:38:14,271 p=69541 u=ubuntu n=ansible INFO| PLAY RECAP **********************************************************************************************
2025-03-12 00:38:14,272 p=69541 u=ubuntu n=ansible INFO| localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-12 00:40:37,740 p=70287 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:40:37,905 p=70287 u=ubuntu n=ansible | PLAY [Create Kubernetes namespaces] *********************************************************************
2025-03-12 00:40:37,943 p=70287 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:40:39,218 p=70287 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:40:39,245 p=70287 u=ubuntu n=ansible | TASK [Ensure namespaces exist] **************************************************************************
2025-03-12 00:40:42,148 p=70287 u=ubuntu n=ansible | ok: [localhost] => (item=infrastructure)
2025-03-12 00:40:44,500 p=70287 u=ubuntu n=ansible | ok: [localhost] => (item=monitoring)
2025-03-12 00:40:46,558 p=70287 u=ubuntu n=ansible | ok: [localhost] => (item=database)
2025-03-12 00:40:46,585 p=70287 u=ubuntu n=ansible | PLAY RECAP **********************************************************************************************
2025-03-12 00:40:46,585 p=70287 u=ubuntu n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-12 00:40:47,510 p=70564 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:40:47,706 p=70564 u=ubuntu n=ansible | PLAY [Apply Kubernetes PVC manifests] *******************************************************************
2025-03-12 00:40:47,722 p=70564 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:40:48,965 p=70564 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:40:48,984 p=70564 u=ubuntu n=ansible | TASK [Apply PVC for required components] ****************************************************************
2025-03-12 00:40:50,871 p=70564 u=ubuntu n=ansible | changed: [localhost] => (item=mysql-pvc.yml)
2025-03-12 00:40:52,625 p=70564 u=ubuntu n=ansible | changed: [localhost] => (item=prometheus-pvc.yml)
2025-03-12 00:40:54,387 p=70564 u=ubuntu n=ansible | changed: [localhost] => (item=grafana-pvc.yml)
2025-03-12 00:40:54,422 p=70564 u=ubuntu n=ansible | PLAY RECAP **********************************************************************************************
2025-03-12 00:40:54,422 p=70564 u=ubuntu n=ansible | localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-12 00:40:55,084 p=70913 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:40:55,319 p=70913 u=ubuntu n=ansible | PLAY [Apply Kubernetes Services] ************************************************************************
2025-03-12 00:40:55,330 p=70913 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:40:56,850 p=70913 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:40:56,867 p=70913 u=ubuntu n=ansible | TASK [Create Services for applications] *****************************************************************
2025-03-12 00:40:58,815 p=70913 u=ubuntu n=ansible | failed: [localhost] (item=grafana-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-service.yml"], "delta": "0:00:01.523553", "end": "2025-03-12 00:40:58.784308", "item": "grafana-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:40:57.260755", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "", "stdout_lines": []}
2025-03-12 00:41:00,387 p=70913 u=ubuntu n=ansible | failed: [localhost] (item=prometheus-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/prometheus-service.yml"], "delta": "0:00:01.316381", "end": "2025-03-12 00:41:00.359644", "item": "prometheus-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:40:59.043263", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/prometheus-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/prometheus-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "", "stdout_lines": []}
2025-03-12 00:41:02,305 p=70913 u=ubuntu n=ansible | failed: [localhost] (item=jmeter-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-service.yml"], "delta": "0:00:01.629042", "end": "2025-03-12 00:41:02.271617", "item": "jmeter-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:41:00.642575", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "", "stdout_lines": []}
2025-03-12 00:41:04,208 p=70913 u=ubuntu n=ansible | failed: [localhost] (item=mysql-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/mysql-service.yml"], "delta": "0:00:01.455337", "end": "2025-03-12 00:41:04.180888", "item": "mysql-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:41:02.725551", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/mysql-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/mysql-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "", "stdout_lines": []}
2025-03-12 00:41:04,210 p=70913 u=ubuntu n=ansible | PLAY RECAP **********************************************************************************************
2025-03-12 00:41:04,211 p=70913 u=ubuntu n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-12 00:41:04,907 p=71344 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:41:05,087 p=71344 u=ubuntu n=ansible | PLAY [Apply Kubernetes Ingress resources] ***************************************************************
2025-03-12 00:41:05,149 p=71344 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:41:06,714 p=71344 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:41:06,732 p=71344 u=ubuntu n=ansible | TASK [Create Ingress for applications] ******************************************************************
2025-03-12 00:41:09,750 p=71344 u=ubuntu n=ansible | failed: [localhost] (item=argocd-ingress.yml) => {"ansible_loop_var": "item", "changed": false, "item": "argocd-ingress.yml", "msg": "Failed to create object: b'{\"kind\":\"Status\",\"apiVersion\":\"v1\",\"metadata\":{},\"status\":\"Failure\",\"message\":\"Internal error occurred: failed calling webhook \\\\\"vingress.elbv2.k8s.aws\\\\\": failed to call webhook: Post \\\\\"https://aws-load-balancer-webhook-service.kube-system.svc:443/validate-networking-v1-ingress?timeout=10s\\\\\": no endpoints available for service \\\\\"aws-load-balancer-webhook-service\\\\\"\",\"reason\":\"InternalError\",\"details\":{\"causes\":[{\"message\":\"failed calling webhook \\\\\"vingress.elbv2.k8s.aws\\\\\": failed to call webhook: Post \\\\\"https://aws-load-balancer-webhook-service.kube-system.svc:443/validate-networking-v1-ingress?timeout=10s\\\\\": no endpoints available for service \\\\\"aws-load-balancer-webhook-service\\\\\"\"}]},\"code\":500}\\n'", "reason": "Internal Server Error"}
2025-03-12 00:41:12,095 p=71344 u=ubuntu n=ansible | failed: [localhost] (item=grafana-ingress.yml) => {"ansible_loop_var": "item", "changed": false, "item": "grafana-ingress.yml", "msg": "Failed to create object: b'{\"kind\":\"Status\",\"apiVersion\":\"v1\",\"metadata\":{},\"status\":\"Failure\",\"message\":\"Internal error occurred: failed calling webhook \\\\\"vingress.elbv2.k8s.aws\\\\\": failed to call webhook: Post \\\\\"https://aws-load-balancer-webhook-service.kube-system.svc:443/validate-networking-v1-ingress?timeout=10s\\\\\": no endpoints available for service \\\\\"aws-load-balancer-webhook-service\\\\\"\",\"reason\":\"InternalError\",\"details\":{\"causes\":[{\"message\":\"failed calling webhook \\\\\"vingress.elbv2.k8s.aws\\\\\": failed to call webhook: Post \\\\\"https://aws-load-balancer-webhook-service.kube-system.svc:443/validate-networking-v1-ingress?timeout=10s\\\\\": no endpoints available for service \\\\\"aws-load-balancer-webhook-service\\\\\"\"}]},\"code\":500}\\n'", "reason": "Internal Server Error"}
2025-03-12 00:41:12,098 p=71344 u=ubuntu n=ansible | PLAY RECAP **********************************************************************************************
2025-03-12 00:41:12,098 p=71344 u=ubuntu n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-12 00:41:13,018 p=71573 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:41:13,248 p=71573 u=ubuntu n=ansible | PLAY [Deploy ArgoCD Namespace] **************************************************************************
2025-03-12 00:41:13,287 p=71573 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:41:14,835 p=71573 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:41:14,853 p=71573 u=ubuntu n=ansible | TASK [Create infrastructure namespace for ArgoCD] *******************************************************
2025-03-12 00:41:17,863 p=71573 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:41:17,873 p=71573 u=ubuntu n=ansible | TASK [Deploy ArgoCD ConfigMap] **************************************************************************
2025-03-12 00:41:20,290 p=71573 u=ubuntu n=ansible | changed: [localhost]
2025-03-12 00:41:20,298 p=71573 u=ubuntu n=ansible | TASK [Deploy ArgoCD Secret] *****************************************************************************
2025-03-12 00:41:22,850 p=71573 u=ubuntu n=ansible | changed: [localhost]
2025-03-12 00:41:22,860 p=71573 u=ubuntu n=ansible | TASK [Deploy remaining ArgoCD components] ***************************************************************
2025-03-12 00:41:25,208 p=71573 u=ubuntu n=ansible | changed: [localhost] => (item=argocd-deployment.yml)
2025-03-12 00:41:27,466 p=71573 u=ubuntu n=ansible | failed: [localhost] (item=argocd-service.yml) => {"ansible_loop_var": "item", "changed": false, "item": "argocd-service.yml", "msg": "Failed to create object: b'{\"kind\":\"Status\",\"apiVersion\":\"v1\",\"metadata\":{},\"status\":\"Failure\",\"message\":\"Internal error occurred: failed calling webhook \\\\\"mservice.elbv2.k8s.aws\\\\\": failed to call webhook: Post \\\\\"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\\\\\": no endpoints available for service \\\\\"aws-load-balancer-webhook-service\\\\\"\",\"reason\":\"InternalError\",\"details\":{\"causes\":[{\"message\":\"failed calling webhook \\\\\"mservice.elbv2.k8s.aws\\\\\": failed to call webhook: Post \\\\\"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\\\\\": no endpoints available for service \\\\\"aws-load-balancer-webhook-service\\\\\"\"}]},\"code\":500}\\n'", "reason": "Internal Server Error"}
2025-03-12 00:41:29,927 p=71573 u=ubuntu n=ansible | failed: [localhost] (item=argocd-ingress.yml) => {"ansible_loop_var": "item", "changed": false, "item": "argocd-ingress.yml", "msg": "Failed to create object: b'{\"kind\":\"Status\",\"apiVersion\":\"v1\",\"metadata\":{},\"status\":\"Failure\",\"message\":\"Internal error occurred: failed calling webhook \\\\\"vingress.elbv2.k8s.aws\\\\\": failed to call webhook: Post \\\\\"https://aws-load-balancer-webhook-service.kube-system.svc:443/validate-networking-v1-ingress?timeout=10s\\\\\": no endpoints available for service \\\\\"aws-load-balancer-webhook-service\\\\\"\",\"reason\":\"InternalError\",\"details\":{\"causes\":[{\"message\":\"failed calling webhook \\\\\"vingress.elbv2.k8s.aws\\\\\": failed to call webhook: Post \\\\\"https://aws-load-balancer-webhook-service.kube-system.svc:443/validate-networking-v1-ingress?timeout=10s\\\\\": no endpoints available for service \\\\\"aws-load-balancer-webhook-service\\\\\"\"}]},\"code\":500}\\n'", "reason": "Internal Server Error"}
2025-03-12 00:41:29,931 p=71573 u=ubuntu n=ansible | PLAY RECAP **********************************************************************************************
2025-03-12 00:41:29,931 p=71573 u=ubuntu n=ansible | localhost                  : ok=4    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-12 00:41:30,784 p=72026 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:41:30,983 p=72026 u=ubuntu n=ansible | PLAY [Deploy DaemonSet (Node Exporter)] *****************************************************************
2025-03-12 00:41:31,020 p=72026 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:41:32,437 p=72026 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:41:32,459 p=72026 u=ubuntu n=ansible | TASK [Apply Node Exporter DaemonSet] ********************************************************************
2025-03-12 00:41:35,133 p=72026 u=ubuntu n=ansible | changed: [localhost]
2025-03-12 00:41:35,160 p=72026 u=ubuntu n=ansible | PLAY RECAP **********************************************************************************************
2025-03-12 00:41:35,161 p=72026 u=ubuntu n=ansible | localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-12 00:41:35,879 p=72199 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:41:36,152 p=72199 u=ubuntu n=ansible | PLAY [Deploy JMeter] ************************************************************************************
2025-03-12 00:41:36,174 p=72199 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:41:37,755 p=72199 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:41:37,774 p=72199 u=ubuntu n=ansible | TASK [Deploy JMeter Deployment] *************************************************************************
2025-03-12 00:41:39,755 p=72199 u=ubuntu n=ansible | fatal: [localhost]: FAILED! => {"changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-deployment.yml"], "delta": "0:00:01.509137", "end": "2025-03-12 00:41:39.697499", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:41:38.188362", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-deployment.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-deployment.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "deployment.apps/jmeter created", "stdout_lines": ["deployment.apps/jmeter created"]}
2025-03-12 00:41:39,757 p=72199 u=ubuntu n=ansible | PLAY RECAP **********************************************************************************************
2025-03-12 00:41:39,757 p=72199 u=ubuntu n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-12 00:41:40,503 p=72401 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:41:40,704 p=72401 u=ubuntu n=ansible | PLAY [Deploy StatefulSets (Grafana, Prometheus, MySQL)] *************************************************
2025-03-12 00:41:40,725 p=72401 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:41:42,059 p=72401 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:41:42,078 p=72401 u=ubuntu n=ansible | TASK [Deploy Grafana StatefulSet] ***********************************************************************
2025-03-12 00:41:44,253 p=72401 u=ubuntu n=ansible | fatal: [localhost]: FAILED! => {"changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-statefulset.yml"], "delta": "0:00:01.685173", "end": "2025-03-12 00:41:44.187921", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:41:42.502748", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-statefulset.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-statefulset.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "statefulset.apps/grafana created", "stdout_lines": ["statefulset.apps/grafana created"]}
2025-03-12 00:41:44,260 p=72401 u=ubuntu n=ansible | PLAY RECAP **********************************************************************************************
2025-03-12 00:41:44,261 p=72401 u=ubuntu n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-12 00:44:25,187 p=72895 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:44:25,413 p=72895 u=ubuntu n=ansible | PLAY [Create Kubernetes namespaces] *********************************************************************
2025-03-12 00:44:25,452 p=72895 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:44:26,866 p=72895 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:44:26,885 p=72895 u=ubuntu n=ansible | TASK [Ensure namespaces exist] **************************************************************************
2025-03-12 00:44:29,593 p=72895 u=ubuntu n=ansible | ok: [localhost] => (item=infrastructure)
2025-03-12 00:44:31,785 p=72895 u=ubuntu n=ansible | ok: [localhost] => (item=monitoring)
2025-03-12 00:44:34,043 p=72895 u=ubuntu n=ansible | ok: [localhost] => (item=database)
2025-03-12 00:44:34,068 p=72895 u=ubuntu n=ansible | PLAY RECAP **********************************************************************************************
2025-03-12 00:44:34,068 p=72895 u=ubuntu n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-12 00:44:34,764 p=73178 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:44:34,965 p=73178 u=ubuntu n=ansible | PLAY [Apply Kubernetes PVC manifests] *******************************************************************
2025-03-12 00:44:34,972 p=73178 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:44:36,364 p=73178 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:44:36,408 p=73178 u=ubuntu n=ansible | TASK [Apply PVC for required components] ****************************************************************
2025-03-12 00:44:38,644 p=73178 u=ubuntu n=ansible | changed: [localhost] => (item=mysql-pvc.yml)
2025-03-12 00:44:40,474 p=73178 u=ubuntu n=ansible | changed: [localhost] => (item=prometheus-pvc.yml)
2025-03-12 00:44:42,475 p=73178 u=ubuntu n=ansible | changed: [localhost] => (item=grafana-pvc.yml)
2025-03-12 00:44:42,516 p=73178 u=ubuntu n=ansible | PLAY RECAP **********************************************************************************************
2025-03-12 00:44:42,516 p=73178 u=ubuntu n=ansible | localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-12 00:44:43,243 p=73536 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:44:43,497 p=73536 u=ubuntu n=ansible | PLAY [Apply Kubernetes Services] ************************************************************************
2025-03-12 00:44:43,514 p=73536 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:44:44,815 p=73536 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:44:44,834 p=73536 u=ubuntu n=ansible | TASK [Create Services for applications] *****************************************************************
2025-03-12 00:44:46,973 p=73536 u=ubuntu n=ansible | failed: [localhost] (item=grafana-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-service.yml"], "delta": "0:00:01.622508", "end": "2025-03-12 00:44:46.939013", "item": "grafana-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:44:45.316505", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "", "stdout_lines": []}
2025-03-12 00:44:48,764 p=73536 u=ubuntu n=ansible | failed: [localhost] (item=prometheus-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/prometheus-service.yml"], "delta": "0:00:01.423660", "end": "2025-03-12 00:44:48.712172", "item": "prometheus-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:44:47.288512", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/prometheus-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/prometheus-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "", "stdout_lines": []}
2025-03-12 00:44:50,382 p=73536 u=ubuntu n=ansible | failed: [localhost] (item=jmeter-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-service.yml"], "delta": "0:00:01.330259", "end": "2025-03-12 00:44:50.356465", "item": "jmeter-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:44:49.026206", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "", "stdout_lines": []}
2025-03-12 00:44:52,078 p=73536 u=ubuntu n=ansible | failed: [localhost] (item=mysql-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/mysql-service.yml"], "delta": "0:00:01.429038", "end": "2025-03-12 00:44:52.049202", "item": "mysql-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:44:50.620164", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/mysql-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/mysql-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "", "stdout_lines": []}
2025-03-12 00:44:52,081 p=73536 u=ubuntu n=ansible | PLAY RECAP **********************************************************************************************
2025-03-12 00:44:52,082 p=73536 u=ubuntu n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-12 00:44:52,772 p=73969 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:44:52,940 p=73969 u=ubuntu n=ansible | PLAY [Apply Kubernetes Ingress resources] ***************************************************************
2025-03-12 00:44:52,970 p=73969 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:44:54,266 p=73969 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:44:54,292 p=73969 u=ubuntu n=ansible | TASK [Create Ingress for applications] ******************************************************************
2025-03-12 00:44:56,909 p=73969 u=ubuntu n=ansible | failed: [localhost] (item=argocd-ingress.yml) => {"ansible_loop_var": "item", "changed": false, "item": "argocd-ingress.yml", "msg": "Failed to create object: b'{\"kind\":\"Status\",\"apiVersion\":\"v1\",\"metadata\":{},\"status\":\"Failure\",\"message\":\"Internal error occurred: failed calling webhook \\\\\"vingress.elbv2.k8s.aws\\\\\": failed to call webhook: Post \\\\\"https://aws-load-balancer-webhook-service.kube-system.svc:443/validate-networking-v1-ingress?timeout=10s\\\\\": no endpoints available for service \\\\\"aws-load-balancer-webhook-service\\\\\"\",\"reason\":\"InternalError\",\"details\":{\"causes\":[{\"message\":\"failed calling webhook \\\\\"vingress.elbv2.k8s.aws\\\\\": failed to call webhook: Post \\\\\"https://aws-load-balancer-webhook-service.kube-system.svc:443/validate-networking-v1-ingress?timeout=10s\\\\\": no endpoints available for service \\\\\"aws-load-balancer-webhook-service\\\\\"\"}]},\"code\":500}\\n'", "reason": "Internal Server Error"}
2025-03-12 00:44:58,576 p=73969 u=ubuntu n=ansible |  [ERROR]: User interrupted execution

2025-03-12 00:44:59,417 p=74192 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:44:59,638 p=74192 u=ubuntu n=ansible | PLAY [Deploy ArgoCD Namespace] **************************************************************************
2025-03-12 00:44:59,672 p=74192 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:45:01,279 p=74192 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:45:01,333 p=74192 u=ubuntu n=ansible | TASK [Create infrastructure namespace for ArgoCD] *******************************************************
2025-03-12 00:45:02,173 p=74192 u=ubuntu n=ansible |  [ERROR]: User interrupted execution

2025-03-12 00:45:02,966 p=74350 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:45:03,138 p=74350 u=ubuntu n=ansible | PLAY [Deploy DaemonSet (Node Exporter)] *****************************************************************
2025-03-12 00:45:03,195 p=74350 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:45:04,528 p=74350 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:45:04,551 p=74350 u=ubuntu n=ansible | TASK [Apply Node Exporter DaemonSet] ********************************************************************
2025-03-12 00:45:07,281 p=74350 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:45:07,307 p=74350 u=ubuntu n=ansible | PLAY RECAP **********************************************************************************************
2025-03-12 00:45:07,307 p=74350 u=ubuntu n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-12 00:45:08,091 p=74540 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:45:08,319 p=74540 u=ubuntu n=ansible | PLAY [Deploy JMeter] ************************************************************************************
2025-03-12 00:45:08,328 p=74540 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:45:09,677 p=74540 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:45:09,696 p=74540 u=ubuntu n=ansible | TASK [Deploy JMeter Deployment] *************************************************************************
2025-03-12 00:45:11,823 p=74540 u=ubuntu n=ansible | fatal: [localhost]: FAILED! => {"changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-deployment.yml"], "delta": "0:00:01.621793", "end": "2025-03-12 00:45:11.793356", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:45:10.171563", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-deployment.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-deployment.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "deployment.apps/jmeter unchanged", "stdout_lines": ["deployment.apps/jmeter unchanged"]}
2025-03-12 00:45:11,824 p=74540 u=ubuntu n=ansible | PLAY RECAP **********************************************************************************************
2025-03-12 00:45:11,824 p=74540 u=ubuntu n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-12 00:45:12,581 p=74745 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:45:12,776 p=74745 u=ubuntu n=ansible | PLAY [Deploy StatefulSets (Grafana, Prometheus, MySQL)] *************************************************
2025-03-12 00:45:12,789 p=74745 u=ubuntu n=ansible | TASK [Gathering Facts] **********************************************************************************
2025-03-12 00:45:14,120 p=74745 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:45:14,137 p=74745 u=ubuntu n=ansible | TASK [Deploy Grafana StatefulSet] ***********************************************************************
2025-03-12 00:45:16,202 p=74745 u=ubuntu n=ansible | fatal: [localhost]: FAILED! => {"changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-statefulset.yml"], "delta": "0:00:01.621191", "end": "2025-03-12 00:45:16.160579", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:45:14.539388", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-statefulset.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-statefulset.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "statefulset.apps/grafana unchanged", "stdout_lines": ["statefulset.apps/grafana unchanged"]}
2025-03-12 00:45:16,203 p=74745 u=ubuntu n=ansible | PLAY RECAP **********************************************************************************************
2025-03-12 00:45:16,203 p=74745 u=ubuntu n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-12 00:46:47,734 p=75036 u=ubuntu n=ansible | [WARNING]: Found both group and host with same name: localhost

2025-03-12 00:46:47,991 p=75036 u=ubuntu n=ansible | PLAY [Apply Kubernetes Services] ********************************************************************************************************************
2025-03-12 00:46:48,002 p=75036 u=ubuntu n=ansible | TASK [Gathering Facts] ******************************************************************************************************************************
2025-03-12 00:46:49,552 p=75036 u=ubuntu n=ansible | ok: [localhost]
2025-03-12 00:46:49,573 p=75036 u=ubuntu n=ansible | TASK [Create Services for applications] *************************************************************************************************************
2025-03-12 00:46:51,467 p=75036 u=ubuntu n=ansible | failed: [localhost] (item=grafana-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-service.yml"], "delta": "0:00:01.492648", "end": "2025-03-12 00:46:51.433067", "item": "grafana-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:46:49.940419", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/grafana-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "", "stdout_lines": []}
2025-03-12 00:46:53,160 p=75036 u=ubuntu n=ansible | failed: [localhost] (item=prometheus-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/prometheus-service.yml"], "delta": "0:00:01.339064", "end": "2025-03-12 00:46:53.132733", "item": "prometheus-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:46:51.793669", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/prometheus-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/prometheus-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "", "stdout_lines": []}
2025-03-12 00:46:54,803 p=75036 u=ubuntu n=ansible | failed: [localhost] (item=jmeter-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-service.yml"], "delta": "0:00:01.383370", "end": "2025-03-12 00:46:54.773540", "item": "jmeter-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:46:53.390170", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/jmeter-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "", "stdout_lines": []}
2025-03-12 00:46:56,568 p=75036 u=ubuntu n=ansible | failed: [localhost] (item=mysql-service.yml) => {"ansible_loop_var": "item", "changed": true, "cmd": ["kubectl", "apply", "-f", "/home/ubuntu/ansible-eks-deploy/k8s-manifests/mysql-service.yml"], "delta": "0:00:01.482558", "end": "2025-03-12 00:46:56.525316", "item": "mysql-service.yml", "msg": "non-zero return code", "rc": 1, "start": "2025-03-12 00:46:55.042758", "stderr": "Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/mysql-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\"", "stderr_lines": ["Error from server (InternalError): error when creating \"/home/ubuntu/ansible-eks-deploy/k8s-manifests/mysql-service.yml\": Internal error occurred: failed calling webhook \"mservice.elbv2.k8s.aws\": failed to call webhook: Post \"https://aws-load-balancer-webhook-service.kube-system.svc:443/mutate-v1-service?timeout=10s\": no endpoints available for service \"aws-load-balancer-webhook-service\""], "stdout": "", "stdout_lines": []}
2025-03-12 00:46:56,571 p=75036 u=ubuntu n=ansible | PLAY RECAP ******************************************************************************************************************************************
2025-03-12 00:46:56,572 p=75036 u=ubuntu n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-12 04:05:04,208 p=89078 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-12 04:05:04,268 p=89078 u=ubuntu n=ansible INFO| PLAY [Create Kubernetes namespaces] *****************************************************************************************************
2025-03-12 04:05:04,315 p=89078 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ******************************************************************************************************************
2025-03-12 04:05:05,955 p=89078 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-12 04:05:05,966 p=89078 u=ubuntu n=ansible INFO| TASK [Ensure namespaces exist] **********************************************************************************************************
2025-03-12 04:05:09,178 p=89078 u=ubuntu n=ansible INFO| ok: [localhost] => (item=infrastructure)
2025-03-12 04:05:11,565 p=89078 u=ubuntu n=ansible INFO| ok: [localhost] => (item=monitoring)
2025-03-12 04:05:14,108 p=89078 u=ubuntu n=ansible INFO| ok: [localhost] => (item=database)
2025-03-12 04:05:14,155 p=89078 u=ubuntu n=ansible INFO| PLAY RECAP ******************************************************************************************************************************
2025-03-12 04:05:14,155 p=89078 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-12 04:05:17,558 p=89385 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-12 04:05:17,680 p=89385 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes PVC manifests] ***************************************************************************************************
2025-03-12 04:05:17,689 p=89385 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ******************************************************************************************************************
2025-03-12 04:05:19,300 p=89385 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-12 04:05:19,309 p=89385 u=ubuntu n=ansible INFO| TASK [Apply PVC for required components] ************************************************************************************************
2025-03-12 04:05:21,087 p=89385 u=ubuntu n=ansible INFO| changed: [localhost] => (item=mysql-pvc.yml)
2025-03-12 04:05:22,889 p=89385 u=ubuntu n=ansible INFO| changed: [localhost] => (item=prometheus-pvc.yml)
2025-03-12 04:05:24,573 p=89385 u=ubuntu n=ansible INFO| changed: [localhost] => (item=grafana-pvc.yml)
2025-03-12 04:05:24,575 p=89385 u=ubuntu n=ansible INFO| PLAY RECAP ******************************************************************************************************************************
2025-03-12 04:05:24,576 p=89385 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-12 04:05:26,158 p=89755 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-12 04:05:26,245 p=89755 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes Services] ********************************************************************************************************
2025-03-12 04:05:26,254 p=89755 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ******************************************************************************************************************
2025-03-12 04:05:27,550 p=89755 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-12 04:05:27,560 p=89755 u=ubuntu n=ansible INFO| TASK [Create Services for applications] *************************************************************************************************
2025-03-12 04:05:29,737 p=89755 u=ubuntu n=ansible INFO| changed: [localhost] => (item=grafana-service.yml)
2025-03-12 04:05:31,546 p=89755 u=ubuntu n=ansible INFO| changed: [localhost] => (item=prometheus-service.yml)
2025-03-12 04:05:33,369 p=89755 u=ubuntu n=ansible INFO| changed: [localhost] => (item=jmeter-service.yml)
2025-03-12 04:05:35,448 p=89755 u=ubuntu n=ansible INFO| changed: [localhost] => (item=mysql-service.yml)
2025-03-12 04:05:37,548 p=89755 u=ubuntu n=ansible INFO| changed: [localhost] => (item=my-app-service.yml)
2025-03-12 04:05:37,551 p=89755 u=ubuntu n=ansible INFO| PLAY RECAP ******************************************************************************************************************************
2025-03-12 04:05:37,552 p=89755 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-12 04:05:42,341 p=90305 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-12 04:05:42,403 p=90305 u=ubuntu n=ansible INFO| PLAY [Apply Kubernetes Ingress resources] ***********************************************************************************************
2025-03-12 04:05:42,465 p=90305 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ******************************************************************************************************************
2025-03-12 04:05:44,148 p=90305 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-12 04:05:44,157 p=90305 u=ubuntu n=ansible INFO| TASK [Create Ingress for applications] **************************************************************************************************
2025-03-12 04:05:46,782 p=90305 u=ubuntu n=ansible INFO| ok: [localhost] => (item=argocd-ingress.yml)
2025-03-12 04:05:49,101 p=90305 u=ubuntu n=ansible INFO| ok: [localhost] => (item=grafana-ingress.yml)
2025-03-12 04:05:49,132 p=90305 u=ubuntu n=ansible INFO| PLAY RECAP ******************************************************************************************************************************
2025-03-12 04:05:49,132 p=90305 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-12 04:06:00,899 p=90602 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-12 04:06:00,957 p=90602 u=ubuntu n=ansible INFO| PLAY [Deploy ArgoCD Namespace] **********************************************************************************************************
2025-03-12 04:06:01,005 p=90602 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ******************************************************************************************************************
2025-03-12 04:06:03,543 p=90602 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-12 04:06:03,554 p=90602 u=ubuntu n=ansible INFO| TASK [Create infrastructure namespace for ArgoCD] ***************************************************************************************
2025-03-12 04:06:06,395 p=90602 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-12 04:06:06,430 p=90602 u=ubuntu n=ansible INFO| TASK [Deploy ArgoCD ConfigMap] **********************************************************************************************************
2025-03-12 04:06:08,573 p=90602 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-12 04:06:08,580 p=90602 u=ubuntu n=ansible INFO| TASK [Deploy ArgoCD Secret] *************************************************************************************************************
2025-03-12 04:06:10,767 p=90602 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-12 04:06:10,793 p=90602 u=ubuntu n=ansible INFO| TASK [Deploy remaining ArgoCD components] ***********************************************************************************************
2025-03-12 04:06:13,183 p=90602 u=ubuntu n=ansible INFO| ok: [localhost] => (item=argocd-deployment.yml)
2025-03-12 04:06:15,865 p=90602 u=ubuntu n=ansible INFO| ok: [localhost] => (item=argocd-service.yml)
2025-03-12 04:06:18,423 p=90602 u=ubuntu n=ansible INFO| ok: [localhost] => (item=argocd-ingress.yml)
2025-03-12 04:06:18,442 p=90602 u=ubuntu n=ansible INFO| PLAY RECAP ******************************************************************************************************************************
2025-03-12 04:06:18,443 p=90602 u=ubuntu n=ansible INFO| localhost                  : ok=5    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-12 04:06:20,269 p=91074 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-12 04:06:20,330 p=91074 u=ubuntu n=ansible INFO| PLAY [Deploy DaemonSet (Node Exporter)] *************************************************************************************************
2025-03-12 04:06:20,372 p=91074 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ******************************************************************************************************************
2025-03-12 04:06:21,964 p=91074 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-12 04:06:21,973 p=91074 u=ubuntu n=ansible INFO| TASK [Apply Node Exporter DaemonSet] ****************************************************************************************************
2025-03-12 04:06:24,560 p=91074 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-12 04:06:24,561 p=91074 u=ubuntu n=ansible INFO| PLAY RECAP ******************************************************************************************************************************
2025-03-12 04:06:24,562 p=91074 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-12 04:07:08,237 p=91358 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-12 04:07:08,344 p=91358 u=ubuntu n=ansible INFO| PLAY [Deploy JMeter] ********************************************************************************************************************
2025-03-12 04:07:08,365 p=91358 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ******************************************************************************************************************
2025-03-12 04:07:10,168 p=91358 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-12 04:07:10,177 p=91358 u=ubuntu n=ansible INFO| TASK [Deploy JMeter Deployment] *********************************************************************************************************
2025-03-12 04:07:12,478 p=91358 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-12 04:07:12,480 p=91358 u=ubuntu n=ansible INFO| PLAY RECAP ******************************************************************************************************************************
2025-03-12 04:07:12,480 p=91358 u=ubuntu n=ansible INFO| localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-12 04:07:19,945 p=91569 u=ubuntu n=ansible WARNING| [WARNING]: Found both group and host with same name: localhost

2025-03-12 04:07:20,072 p=91569 u=ubuntu n=ansible INFO| PLAY [Deploy StatefulSets (Grafana, Prometheus, MySQL)] *********************************************************************************
2025-03-12 04:07:20,081 p=91569 u=ubuntu n=ansible INFO| TASK [Gathering Facts] ******************************************************************************************************************
2025-03-12 04:07:21,498 p=91569 u=ubuntu n=ansible INFO| ok: [localhost]
2025-03-12 04:07:21,508 p=91569 u=ubuntu n=ansible INFO| TASK [Deploy Grafana StatefulSet] *******************************************************************************************************
2025-03-12 04:07:23,935 p=91569 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-12 04:07:23,972 p=91569 u=ubuntu n=ansible INFO| TASK [Deploy Prometheus StatefulSet] ****************************************************************************************************
2025-03-12 04:07:26,117 p=91569 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-12 04:07:26,127 p=91569 u=ubuntu n=ansible INFO| TASK [Deploy MySQL StatefulSet] *********************************************************************************************************
2025-03-12 04:07:28,190 p=91569 u=ubuntu n=ansible INFO| changed: [localhost]
2025-03-12 04:07:28,192 p=91569 u=ubuntu n=ansible INFO| PLAY RECAP ******************************************************************************************************************************
2025-03-12 04:07:28,192 p=91569 u=ubuntu n=ansible INFO| localhost                  : ok=4    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
